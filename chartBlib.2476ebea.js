parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"C78o":[function(require,module,exports) {
var define;
var global = arguments[3];
var t,e=arguments[3];!function(){return function t(e,i,n){function s(o,r){if(!i[o]){if(!e[o]){var c="function"==typeof require&&require;if(!r&&c)return c(o,!0);if(a)return a(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var l=i[o]={exports:{}};e[o][0].call(l.exports,function(t){return s(e[o][1][t]||t)},l,l.exports,t,e,i,n)}return i[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}}()({1:[function(t,e,i){var n=4,s=.001,a=1e-7,o=10,r=11,c=1/(r-1),h="function"==typeof Float32Array;function l(t,e){return 1-3*e+3*t}function d(t,e){return 3*e-6*t}function u(t){return 3*t}function p(t,e,i){return((l(e,i)*t+d(e,i))*t+u(e))*t}function f(t,e,i){return 3*l(e,i)*t*t+2*d(e,i)*t+u(e)}function y(t){return t}e.exports=function(t,e,i,l){if(!(0<=t&&t<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===e&&i===l)return y;for(var d=h?new Float32Array(r):new Array(r),u=0;u<r;++u)d[u]=p(u*c,t,i);function v(e){for(var h=0,l=1,u=r-1;l!==u&&d[l]<=e;++l)h+=c;var y=h+(e-d[--l])/(d[l+1]-d[l])*c,v=f(y,t,i);return v>=s?function(t,e,i,s){for(var a=0;a<n;++a){var o=f(e,i,s);if(0===o)return e;e-=(p(e,i,s)-t)/o}return e}(e,y,t,i):0===v?y:function(t,e,i,n,s){var r,c,h=0;do{(r=p(c=e+(i-e)/2,n,s)-t)>0?i=c:e=c}while(Math.abs(r)>a&&++h<o);return c}(e,h,h+c,t,i)}return function(t){return 0===t?0:1===t?1:p(v(t),e,l)}}},{}],2:[function(t,e,i){var n=function(t,e,i,n){if(!t||!e)throw new Error("Must pass in `canvas` and `context`.");var s=i||t.width||t.clientWidth,a=n||t.height||t.clientHeight,o=window.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,c=o/r;return o!==r&&(t.width=Math.round(s*c),t.height=Math.round(a*c),t.style.width=s+"px",t.style.height=a+"px",e.scale(c,c)),c};"undefined"!=typeof window&&(window.canvasDpiScaler=n),e.exports=n},{}],3:[function(e,i,n){!function(e){function n(t,e,i,n,s){this._listener=e,this._isOnce=i,this.context=n,this._signal=t,this._priority=s||0}function s(t,e){if("function"!=typeof t)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))}function a(){this._bindings=[],this._prevParams=null;var t=this;this.dispatch=function(){a.prototype.dispatch.apply(t,arguments)}}n.prototype={active:!0,params:null,execute:function(t){var e,i;return this.active&&this._listener&&(i=this.params?this.params.concat(t):t,e=this._listener.apply(this.context,i),this._isOnce&&this.detach()),e},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},a.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(t,e,i,s){var a,o=this._indexOfListener(t,i);if(-1!==o){if((a=this._bindings[o]).isOnce()!==e)throw new Error("You cannot add"+(e?"":"Once")+"() then add"+(e?"Once":"")+"() the same listener without removing the relationship first.")}else a=new n(this,t,e,i,s),this._addBinding(a);return this.memorize&&this._prevParams&&a.execute(this._prevParams),a},_addBinding:function(t){var e=this._bindings.length;do{--e}while(this._bindings[e]&&t._priority<=this._bindings[e]._priority);this._bindings.splice(e+1,0,t)},_indexOfListener:function(t,e){for(var i,n=this._bindings.length;n--;)if((i=this._bindings[n])._listener===t&&i.context===e)return n;return-1},has:function(t,e){return-1!==this._indexOfListener(t,e)},add:function(t,e,i){return s(t,"add"),this._registerListener(t,!1,e,i)},addOnce:function(t,e,i){return s(t,"addOnce"),this._registerListener(t,!0,e,i)},remove:function(t,e){s(t,"remove");var i=this._indexOfListener(t,e);return-1!==i&&(this._bindings[i]._destroy(),this._bindings.splice(i,1)),t},removeAll:function(){for(var t=this._bindings.length;t--;)this._bindings[t]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(t){if(this.active){var e,i=Array.prototype.slice.call(arguments),n=this._bindings.length;if(this.memorize&&(this._prevParams=i),n){e=this._bindings.slice(),this._shouldPropagate=!0;do{n--}while(e[n]&&this._shouldPropagate&&!1!==e[n].execute(i))}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var o=a;o.Signal=a,"function"==typeof t&&t.amd?t(function(){return o}):void 0!==i&&i.exports?i.exports=o:e.signals=o}(this)},{}],4:[function(e,i,n){!function(){function e(t,e,i){return t.call.apply(t.bind,arguments)}function n(t,e,i){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function s(t,i,a){return(s=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?e:n).apply(null,arguments)}var a=Date.now||function(){return+new Date};function o(t,e){this.a=t,this.o=e||t,this.c=this.o.document}var r=!!window.FontFace;function c(t,e,i,n){if(e=t.c.createElement(e),i)for(var s in i)i.hasOwnProperty(s)&&("style"==s?e.style.cssText=i[s]:e.setAttribute(s,i[s]));return n&&e.appendChild(t.c.createTextNode(n)),e}function h(t,e,i){(t=t.c.getElementsByTagName(e)[0])||(t=document.documentElement),t.insertBefore(i,t.lastChild)}function l(t){t.parentNode&&t.parentNode.removeChild(t)}function d(t,e,i){e=e||[],i=i||[];for(var n=t.className.split(/\s+/),s=0;s<e.length;s+=1){for(var a=!1,o=0;o<n.length;o+=1)if(e[s]===n[o]){a=!0;break}a||n.push(e[s])}for(e=[],s=0;s<n.length;s+=1){for(a=!1,o=0;o<i.length;o+=1)if(n[s]===i[o]){a=!0;break}a||e.push(n[s])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function u(t,e){for(var i=t.className.split(/\s+/),n=0,s=i.length;n<s;n++)if(i[n]==e)return!0;return!1}function p(t,e,i){function n(){l&&s&&a&&(l(o),l=null)}e=c(t,"link",{rel:"stylesheet",href:e,media:"all"});var s=!1,a=!0,o=null,l=i||null;r?(e.onload=function(){s=!0,n()},e.onerror=function(){s=!0,o=Error("Stylesheet failed to load"),n()}):setTimeout(function(){s=!0,n()},0),h(t,"head",e)}function f(t,e,i,n){var s=t.c.getElementsByTagName("head")[0];if(s){var a=c(t,"script",{src:e}),o=!1;return a.onload=a.onreadystatechange=function(){o||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(o=!0,i&&i(null),a.onload=a.onreadystatechange=null,"HEAD"==a.parentNode.tagName&&s.removeChild(a))},s.appendChild(a),setTimeout(function(){o||(o=!0,i&&i(Error("Script load timeout")))},n||5e3),a}return null}function y(){this.a=0,this.c=null}function v(t){return t.a++,function(){t.a--,b(t)}}function g(t,e){t.c=e,b(t)}function b(t){0==t.a&&t.c&&(t.c(),t.c=null)}function x(t){this.a=t||"-"}function w(t,e){this.c=t,this.f=4,this.a="n";var i=(e||"n4").match(/^([nio])([1-9])$/i);i&&(this.a=i[1],this.f=parseInt(i[2],10))}function m(t){var e=[];t=t.split(/,\s*/);for(var i=0;i<t.length;i++){var n=t[i].replace(/['"]/g,"");-1!=n.indexOf(" ")||/^\d/.test(n)?e.push("'"+n+"'"):e.push(n)}return e.join(",")}function _(t){return t.a+t.f}function T(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function k(t){var e=4,i="n",n=null;return t&&((n=t.match(/(normal|oblique|italic)/i))&&n[1]&&(i=n[1].substr(0,1).toLowerCase()),(n=t.match(/([1-9]00|normal|bold)/i))&&n[1]&&(/bold/i.test(n[1])?e=7:/[1-9]00/.test(n[1])&&(e=parseInt(n[1].substr(0,1),10)))),i+e}function P(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new x("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function D(t){if(t.g){var e=u(t.f,t.a.c("wf","active")),i=[],n=[t.a.c("wf","loading")];e||i.push(t.a.c("wf","inactive")),d(t.f,i,n)}S(t,"inactive")}function S(t,e,i){t.j&&t.h[e]&&(i?t.h[e](i.c,_(i)):t.h[e]())}function C(){this.c={}}function A(t,e){this.c=t,this.f=e,this.a=c(this.c,"span",{"aria-hidden":"true"},this.f)}function O(t){h(t.c,"body",t.a)}function B(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+m(t.c)+";font-style:"+T(t)+";font-weight:"+t.f+"00;"}function M(t,e,i,n,s,a){this.g=t,this.j=e,this.a=n,this.c=i,this.f=s||3e3,this.h=a||void 0}function F(t,e,i,n,s,a,o){this.v=t,this.B=e,this.c=i,this.a=n,this.s=o||"BESbswy",this.f={},this.w=s||3e3,this.u=a||null,this.m=this.j=this.h=this.g=null,this.g=new A(this.c,this.s),this.h=new A(this.c,this.s),this.j=new A(this.c,this.s),this.m=new A(this.c,this.s),t=B(t=new w(this.a.c+",serif",_(this.a))),this.g.a.style.cssText=t,t=B(t=new w(this.a.c+",sans-serif",_(this.a))),this.h.a.style.cssText=t,t=B(t=new w("serif",_(this.a))),this.j.a.style.cssText=t,t=B(t=new w("sans-serif",_(this.a))),this.m.a.style.cssText=t,O(this.g),O(this.h),O(this.j),O(this.m)}x.prototype.c=function(t){for(var e=[],i=0;i<arguments.length;i++)e.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},M.prototype.start=function(){var t=this.c.o.document,e=this,i=a(),n=new Promise(function(n,s){!function o(){a()-i>=e.f?s():t.fonts.load(function(t){return T(t)+" "+t.f+"00 300px "+m(t.c)}(e.a),e.h).then(function(t){1<=t.length?n():setTimeout(o,25)},function(){s()})}()}),s=null,o=new Promise(function(t,i){s=setTimeout(i,e.f)});Promise.race([o,n]).then(function(){s&&(clearTimeout(s),s=null),e.g(e.a)},function(){e.j(e.a)})};var L={D:"serif",C:"sans-serif"},I=null;function R(){if(null===I){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);I=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return I}function z(t,e,i){for(var n in L)if(L.hasOwnProperty(n)&&e===t.f[L[n]]&&i===t.f[L[n]])return!0;return!1}function E(t){var e,i=t.g.a.offsetWidth,n=t.h.a.offsetWidth;(e=i===t.f.serif&&n===t.f["sans-serif"])||(e=R()&&z(t,i,n)),e?a()-t.A>=t.w?R()&&z(t,i,n)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?j(t,t.v):j(t,t.B):function(t){setTimeout(s(function(){E(this)},t),50)}(t):j(t,t.v)}function j(t,e){setTimeout(s(function(){l(this.g.a),l(this.h.a),l(this.j.a),l(this.m.a),e(this.a)},t),0)}function Y(t,e,i){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=i}F.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=a(),E(this)};var W=null;function q(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&d(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),S(t,"active")):D(t.a))}function H(t){this.j=t,this.a=new C,this.h=0,this.f=this.g=!0}function N(t,e,i,n,a){var o=0==--t.h;(t.f||t.g)&&setTimeout(function(){var t=a||null,r=n||{};if(0===i.length&&o)D(e.a);else{e.f+=i.length,o&&(e.j=o);var c,h=[];for(c=0;c<i.length;c++){var l=i[c],u=r[l.c],p=e.a,f=l;if(p.g&&d(p.f,[p.a.c("wf",f.c,_(f).toString(),"loading")]),S(p,"fontloading",f),p=null,null===W)if(window.FontFace){f=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var y=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);W=f?42<parseInt(f[1],10):!y}else W=!1;p=W?new M(s(e.g,e),s(e.h,e),e.c,l,e.s,u):new F(s(e.g,e),s(e.h,e),e.c,l,e.s,t,u),h.push(p)}for(c=0;c<h.length;c++)h[c].start()}},0)}function X(t,e){this.c=t,this.a=e}function U(t,e){this.c=t,this.a=e}function V(t,e){this.c=t||G,this.a=[],this.f=[],this.g=e||""}Y.prototype.g=function(t){var e=this.a;e.g&&d(e.f,[e.a.c("wf",t.c,_(t).toString(),"active")],[e.a.c("wf",t.c,_(t).toString(),"loading"),e.a.c("wf",t.c,_(t).toString(),"inactive")]),S(e,"fontactive",t),this.m=!0,q(this)},Y.prototype.h=function(t){var e=this.a;if(e.g){var i=u(e.f,e.a.c("wf",t.c,_(t).toString(),"active")),n=[],s=[e.a.c("wf",t.c,_(t).toString(),"loading")];i||n.push(e.a.c("wf",t.c,_(t).toString(),"inactive")),d(e.f,n,s)}S(e,"fontinactive",t),q(this)},H.prototype.load=function(t){this.c=new o(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,e,i){var n=[],s=i.timeout;!function(t){t.g&&d(t.f,[t.a.c("wf","loading")]),S(t,"loading")}(e);var n=function(t,e,i){var n,s=[];for(n in e)if(e.hasOwnProperty(n)){var a=t.c[n];a&&s.push(a(e[n],i))}return s}(t.a,i,t.c),a=new Y(t.c,e,s);for(t.h=n.length,e=0,i=n.length;e<i;e++)n[e].load(function(e,i,n){N(t,a,e,i,n)})}(this,new P(this.c,t),t)},X.prototype.load=function(t){var e=this,i=e.a.projectId,n=e.a.version;if(i){var s=e.c.o;f(this.c,(e.a.api||"https://fast.fonts.net/jsapi")+"/"+i+".js"+(n?"?v="+n:""),function(n){n?t([]):(s["__MonotypeConfiguration__"+i]=function(){return e.a},function e(){if(s["__mti_fntLst"+i]){var n,a=s["__mti_fntLst"+i](),o=[];if(a)for(var r=0;r<a.length;r++){var c=a[r].fontfamily;null!=a[r].fontStyle&&null!=a[r].fontWeight?(n=a[r].fontStyle+a[r].fontWeight,o.push(new w(c,n))):o.push(new w(c))}t(o)}else setTimeout(function(){e()},50)}())}).id="__MonotypeAPIScript__"+i}else t([])},U.prototype.load=function(t){var e,i,n=this.a.urls||[],s=this.a.families||[],a=this.a.testStrings||{},o=new y;for(e=0,i=n.length;e<i;e++)p(this.c,n[e],v(o));var r=[];for(e=0,i=s.length;e<i;e++)if((n=s[e].split(":"))[1])for(var c=n[1].split(","),h=0;h<c.length;h+=1)r.push(new w(n[0],c[h]));else r.push(new w(n[0]));g(o,function(){t(r,a)})};var G="https://fonts.googleapis.com/css";function J(t){this.f=t,this.a=[],this.c={}}var $={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},K={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},Q={i:"i",italic:"i",n:"n",normal:"n"},Z=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function tt(t,e){this.c=t,this.a=e}var et={Arimo:!0,Cousine:!0,Tinos:!0};function it(t,e){this.c=t,this.a=e}function nt(t,e){this.c=t,this.f=e,this.a=[]}tt.prototype.load=function(t){var e=new y,i=this.c,n=new V(this.a.api,this.a.text),s=this.a.families;!function(t,e){for(var i=e.length,n=0;n<i;n++){var s=e[n].split(":");3==s.length&&t.f.push(s.pop());var a="";2==s.length&&""!=s[1]&&(a=":"),t.a.push(s.join(a))}}(n,s);var a=new J(s);!function(t){for(var e=t.f.length,i=0;i<e;i++){var n=t.f[i].split(":"),s=n[0].replace(/\+/g," "),a=["n4"];if(2<=n.length){var o;if(o=[],r=n[1])for(var r,c=(r=r.split(",")).length,h=0;h<c;h++){var l;if((l=r[h]).match(/^[\w-]+$/))if(null==(u=Z.exec(l.toLowerCase())))l="";else{if(l=null==(l=u[2])||""==l?"n":Q[l],null==(u=u[1])||""==u)u="4";else var d=K[u],u=d||(isNaN(u)?"4":u.substr(0,1));l=[l,u].join("")}else l="";l&&o.push(l)}0<o.length&&(a=o),3==n.length&&(o=[],0<(n=(n=n[2])?n.split(","):o).length&&(n=$[n[0]])&&(t.c[s]=n))}for(t.c[s]||(n=$[s])&&(t.c[s]=n),n=0;n<a.length;n+=1)t.a.push(new w(s,a[n]))}}(a),p(i,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,i=[],n=0;n<e;n++)i.push(t.a[n].replace(/ /g,"+"));return e=t.c+"?family="+i.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(n),v(e)),g(e,function(){t(a.a,a.c,et)})},it.prototype.load=function(t){var e=this.a.id,i=this.c.o;e?f(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",function(e){if(e)t([]);else if(i.Typekit&&i.Typekit.config&&i.Typekit.config.fn){e=i.Typekit.config.fn;for(var n=[],s=0;s<e.length;s+=2)for(var a=e[s],o=e[s+1],r=0;r<o.length;r++)n.push(new w(a,o[r]));try{i.Typekit.load({events:!1,classes:!1,async:!0})}catch(c){}t(n)}},2e3):t([])},nt.prototype.load=function(t){var e=this.f.id,i=this.c.o,n=this;e?(i.__webfontfontdeckmodule__||(i.__webfontfontdeckmodule__={}),i.__webfontfontdeckmodule__[e]=function(e,i){for(var s=0,a=i.fonts.length;s<a;++s){var o=i.fonts[s];n.a.push(new w(o.name,k("font-weight:"+o.weight+";font-style:"+o.style)))}t(n.a)},f(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+e+".js",function(e){e&&t([])})):t([])};var st=new H(window);st.a.c.custom=function(t,e){return new U(e,t)},st.a.c.fontdeck=function(t,e){return new nt(e,t)},st.a.c.monotype=function(t,e){return new X(e,t)},st.a.c.typekit=function(t,e){return new it(e,t)},st.a.c.google=function(t,e){return new tt(e,t)};var at={load:s(st.load,st)};"function"==typeof t&&t.amd?t(function(){return at}):void 0!==i&&i.exports?i.exports=at:(window.WebFont=at,window.WebFontConfig&&st.load(window.WebFontConfig))}()},{}],5:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Axis=void 0;var n=t("signals"),s=t("./Rectangle"),a=t("./Ticks"),o=t("./Canvas"),r=t("./Grid"),c=t("./Label"),h=t("./Point"),l=function(){function t(t,e,i){this.display=!1,this.position="start",this.gridOn=!1,this.customTicks=[],this.legends=[],this.onOptionsSetted=new n.Signal,this.onMinMaxSetted=new n.Signal,this.onCustomTicksAdded=new n.Signal,this.onNameSetted=new n.Signal,this.min=0,this.max=0,this.setMinMax(t),this.type=e,this.label=new c.Label(this.type),this.canvas=new o.Canvas(i),this.canvas.canvas.style.zIndex="2",this.optionsDraw={lineWidth:1,lineColor:"#000000",lineDash:[]},this.ticks=new a.Ticks(this.type),this.grid=new r.Grid(this.type),this.bindChildSignals(),this.bindSignals()}return t.prototype.bindSignals=function(){var t=this;this.onMinMaxSetted.add(function(){t.createTicks(),t.draw()}),this.onOptionsSetted.add(function(){t.draw()}),this.onCustomTicksAdded.add(function(){t.createTicks(),t.draw()}),this.onNameSetted.add(function(){t.draw()})},t.prototype.bindChildSignals=function(){var t=this;this.canvas.resized.add(function(){t.createTicks(!0),t.draw()}),this.canvas.onPaddingsSetted.add(function(){t.createTicks(),t.draw()}),this.ticks.onOptionsSetted.add(function(){t.createTicks(),t.draw()}),this.ticks.onCustomLabelsAdded.add(function(){t.createTicks(),t.draw()}),this.ticks.onCoordsChanged.add(function(){t.draw()}),this.label.onOptionsSetted.add(function(){t.draw()}),this.ticks.label.onOptionsSetted.add(function(){t.draw()}),this.grid.onOptionsSetted.add(function(){t.draw()})},Object.defineProperty(t.prototype,"length",{get:function(){return Math.abs(this.max-this.min)},enumerable:!1,configurable:!0}),t.prototype.addLegend=function(t){this.legends.push(t)},t.prototype.setName=function(t,e){return this.name=t,this.namePosition=e,this},t.prototype.setOptions=function(t,e,i,n){t&&(this.position=t),e&&(this.optionsDraw.lineWidth=e),i&&(this.optionsDraw.lineColor=i),n&&(this.optionsDraw.lineDash=n),this.onOptionsSetted.dispatch()},t.prototype.setMinMax=function(t,e){var i=[];switch([this.min,this.max],t.length){case 0:i=[0,100];break;case 1:i=[t[0],100];break;case 2:i=[t[0],t[1]]}this.min=i[0],this.max=i[1],this.onMinMaxSetted.dispatch(e)},t.prototype.draw=function(){var t=this,e=this.canvas.ctx;if(e){this.canvas.clear();this.axisViewport;this.display&&this.drawAxis(),this.ticks.draw(e,this.canvas.viewport),this.customTicks.forEach(function(i){i.draw(e,t.canvas.viewport)}),this.grid.display&&this.grid.draw(e,this.canvas.viewport,this.ticks.coords),this.drawAxisName(),this.legends.forEach(function(i){i.draw(e,t.canvas.viewport)})}},t.prototype.createTicks=function(t){var e=this,i=this.canvas.ctx;i&&(this.ticks.createTicks(this.min,this.max,this.axisViewport,i,t),this.customTicks.forEach(function(n){n.createTicks(e.min,e.max,e.axisViewport,i,t)}))},t.prototype.addCustomTicks=function(t){var e=this;t.onCoordsChanged.add(function(){e.draw()}),this.customTicks.push(t),this.onCustomTicksAdded.dispatch()},Object.defineProperty(t.prototype,"axisViewport",{get:function(){var t=this.canvas.viewport,e=new s.Rectangle(0,0,0,0);switch(this.position){case"start":switch(this.type){case"vertical":e=new s.Rectangle(t.x1,t.y1,t.x1,t.y2);break;case"horizontal":e=new s.Rectangle(t.x1,t.y2,t.x2,t.y2)}break;case"end":case"start":switch(this.type){case"vertical":e=new s.Rectangle(t.x2,t.y1,t.x2,t.y2);break;case"horizontal":e=new s.Rectangle(t.x1,t.y1,t.x2,t.y1)}}return e},enumerable:!1,configurable:!0}),t.prototype.drawAxis=function(){var t=this.canvas.ctx,e=this.axisViewport;t&&(t.strokeStyle=this.optionsDraw.lineColor,t.lineWidth=this.optionsDraw.lineWidth,t.setLineDash(this.optionsDraw.lineDash),t.beginPath(),t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.stroke(),t.setLineDash([]))},t.prototype.drawAxisName=function(){var t=this.canvas.ctx,e=this.canvas.viewport,i=0,n=0;i="horizontal"==this.type?e.midX:"start"==this.namePosition?e.x1:e.x2,n="vertical"==this.type?e.midY:"start"==this.namePosition?e.y2:e.y1;var s=new h.Point(i,n);this.name&&t&&this.label.draw(t,s,this.name)},t}();i.Axis=l},{"./Canvas":7,"./Grid":10,"./Label":11,"./Point":14,"./Rectangle":15,"./Ticks":16,signals:3}],6:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BackGround=void 0;var n=t("./Canvas"),s=function(){function t(t,e){this.type="default",this.type=t,this.canvas=new n.Canvas(e),this.canvas.canvas.style.zIndex="1"}return t.prototype.draw=function(t,e){switch(this.canvas.clear(),this.type){case"coloredGrid_cbh":this.drawColoredGrid(t,e)}},t.prototype.drawColoredGrid=function(t,e){var i=this.canvas.ctx;if(i){i.globalAlpha=.1;for(var n=["#8CCB76","#BED68D","#E7D180","#CC9263","#CF5031"],s=0;s<t.length-1;s++)i.fillStyle=n[s],i.fillRect(t[s].x,e[0].y,t[s+1].x-t[s].x,e[e.length-1].y-e[0].y);for(s=0;s<e.length-1;s++)i.fillStyle=n[s],i.fillRect(t[0].x,e[s].y,t[t.length-1].x-t[0].x,e[s+1].y-e[s].y);i.globalAlpha=1}},t}();i.BackGround=s},{"./Canvas":7}],7:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Canvas=void 0;var n=t("signals"),s=t("./Point"),a=t("./Rectangle"),o=t("canvas-dpi-scaler"),r=function(){function t(t){for(var e=this,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];this.isSquare=!1,this.lineWidth=1,this.color="black",this.onPaddingsSetted=new n.Signal,this.mouseMoved=new n.Signal,this.mouseOuted=new n.Signal,this.touchEnded=new n.Signal,this.resized=new n.Signal,this.container=t,this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.top=0,this.right=0,this.bottom=0,this.left=0,this.container.appendChild(this.canvas),this._ctx=this.canvas.getContext("2d"),this.clear=this.clear.bind(this),window.addEventListener("resize",function(){e.resize()}),this.setPaddings.apply(this,i),this.resize()}return t.prototype.turnOnListenres=function(){var t=this;this.canvas.addEventListener("mousemove",function(e){t.mouseCoords=t.getMouseCoords(e),t.inDrawArea?t.mouseMoved.dispatch():(t.mouseCoords=new s.Point(t.viewport.x2,t.viewport.zeroY),t.mouseOuted.dispatch())}),this.canvas.addEventListener("mouseleave",function(e){t.mouseCoords=new s.Point(t.viewport.x2,t.viewport.zeroY),t.mouseOuted.dispatch()}),this.canvas.addEventListener("touchmove",function(e){t.mouseCoords=t.getTouchCoords(e),t.inDrawArea?t.mouseMoved.dispatch():(t.mouseCoords=new s.Point(t.viewport.x2,t.viewport.zeroY),t.mouseOuted.dispatch())}),this.canvas.addEventListener("touchend",function(e){t.mouseCoords=new s.Point(t.viewport.x2,t.viewport.zeroY),t.touchEnded.dispatch()}),this.mouseCoords=new s.Point(this.viewport.x2,this.viewport.zeroY)},t.prototype.addOnPage=function(){this.container.appendChild(this.canvas)},Object.defineProperty(t.prototype,"inDrawArea",{get:function(){return!(this.mouseCoords.x<0)&&(!(this.mouseCoords.x>this.viewport.width)&&(!(this.mouseCoords.y<0)&&!(this.mouseCoords.y>this.viewport.height)))},enumerable:!1,configurable:!0}),t.prototype.setPaddings=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];switch(t.length){case 0:this.top=50,this.right=50,this.bottom=50,this.left=50;break;case 1:this.top=t[0],this.right=50,this.bottom=50,this.left=50;break;case 2:this.top=t[0],this.right=t[1],this.bottom=t[0],this.left=t[1];break;case 3:this.top=t[0],this.right=t[1],this.bottom=t[2],this.left=50;break;case 4:this.top=t[0],this.right=t[1],this.bottom=t[2],this.left=t[3]}this.mouseCoords=new s.Point(this.viewport.x2,this.viewport.zeroY),this.onPaddingsSetted.dispatch()},Object.defineProperty(t.prototype,"ctx",{get:function(){return this._ctx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"squareRes",{set:function(t){this.isSquare=t,this.resize()},enumerable:!1,configurable:!0}),t.prototype.resize=function(){if(this.isSquare){var t=this.container.getBoundingClientRect().width,e=this.container.getBoundingClientRect().height;this.width=Math.min(t,e),this.height=Math.min(t,e)}else this.width=this.container.getBoundingClientRect().width,this.height=this.container.getBoundingClientRect().height;this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width=this.width.toString()+"px",this.canvas.style.height=this.height.toString()+"px",o(this.canvas,this._ctx,this.width,this.height),this.resized.dispatch()},t.prototype.clear=function(){this._ctx&&this._ctx.clearRect(0,0,this.width,this.height)},Object.defineProperty(t.prototype,"viewport",{get:function(){return new a.Rectangle(this.left,this.top,this.width-this.right,this.height-this.bottom)},enumerable:!1,configurable:!0}),t.prototype.drawVp=function(){var t=this.viewport;this.ctx.rect(t.x1,t.y1,t.width,t.height),this.ctx&&(this.ctx.strokeStyle=this.color,this.ctx.fillStyle=this.color,this.ctx.lineWidth=this.lineWidth),this.ctx.stroke()},t.prototype.getMouseCoords=function(t){var e=this.canvas.getBoundingClientRect();return new s.Point(t.clientX-e.left-this.viewport.x1,t.clientY-e.top-this.viewport.y1)},t.prototype.getTouchCoords=function(t){var e=t.touches[0].clientX,i=t.touches[0].clientY,n=this.canvas.getBoundingClientRect();return new s.Point(e-n.left-this.viewport.x1,i-n.top-this.viewport.y1)},t.prototype.clipCanvas=function(){var t=this.viewport,e=new Path2D;e.rect(t.x1,t.y1,t.width,t.height),this._ctx.clip(e)},t}();i.Canvas=r},{"./Point":14,"./Rectangle":15,"canvas-dpi-scaler":2,signals:3}],8:[function(t,e,i){"use strict";var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),s=0;for(e=0;e<i;e++)for(var a=arguments[e],o=0,r=a.length;o<r;o++,s++)n[s]=a[o];return n};Object.defineProperty(i,"__esModule",{value:!0}),i.Chart=void 0;var s=t("./Canvas"),a=t("./Data"),o=t("./Plot"),r=t("./Axis"),c=t("./Transformer"),h=t("./Rectangle"),l=t("./Point"),d=t("./BackGround"),u=t("signals"),p=t("./series/SeriesBase"),f=t("./series/SeriesXY"),y=function(){function t(t,e,i){this.hasBorder=!1,this.clipSeriesCanvas=!1,this.tooltipsDataIndexUpdated=new u.Signal,this.container=t,this.canvasTT=new s.Canvas(t),this.canvasTT.turnOnListenres(),this.canvasTT.canvas.style.zIndex="4",this.data=new a.Data,this.plots=[],this.xAxis=new r.Axis(e,"horizontal",t),this.yAxis=new r.Axis(i,"vertical",t),this.tooltipsDraw=this.tooltipsDraw.bind(this),this.seriesReDraw=this.seriesReDraw.bind(this),this.bindChildSignals(),this.tooltipsDraw(!0)}return t.prototype.switchResolution=function(){this.xAxis.canvas.squareRes=!0,this.yAxis.canvas.squareRes=!0,this.canvasTT.squareRes=!0,this.background&&(this.background.canvas.squareRes=!0),this.data.seriesStorage.forEach(function(t,e){t.canvas.squareRes=!0})},t.prototype.bindChildSignals=function(){var t=this;this.xAxis.onMinMaxSetted.add(function(e){e&&t.seriesUpdatePlotData(),t.tooltipsDraw(!0)}),this.yAxis.onMinMaxSetted.add(function(e){e&&t.seriesUpdatePlotData(),t.tooltipsDraw(!0)}),this.canvasTT.mouseMoved.add(this.tooltipsDraw),this.canvasTT.mouseOuted.add(function(){t.tooltipsDraw(!0)}),this.canvasTT.touchEnded.add(function(){t.tooltipsDraw(!0)})},Object.defineProperty(t.prototype,"axisRect",{get:function(){return new h.Rectangle(this.xAxis.min,this.yAxis.min,this.xAxis.max,this.yAxis.max)},enumerable:!1,configurable:!0}),t.prototype.seriesUpdatePlotData=function(){var t=this;this.data.seriesStorage.forEach(function(e,i){e.updatePlotData(t.axisRect,e.canvas.viewport)})},t.prototype.seriesReDraw=function(t){var e=this,i=t.canvas;i.clear(),this.clipSeriesCanvas&&i.clipCanvas(),t.plots.forEach(function(n){var s=e.findPlotById(n);s&&s.drawPlot(i.ctx,t.plotDataArr,i.viewport,t.plotLabels)}),this.tooltipsDraw(!0)},t.prototype.setCanvasPaddings=function(){for(var t,e,i,n,s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];(t=this.canvasTT).setPaddings.apply(t,s),(e=this.xAxis.canvas).setPaddings.apply(e,s),(i=this.yAxis.canvas).setPaddings.apply(i,s),this.background&&(n=this.background.canvas).setPaddings.apply(n,s),this.data.seriesStorage.forEach(function(t,e){var i;(i=t.canvas).setPaddings.apply(i,s)})},t.prototype.addBackGround=function(t){var e=this;this.background=new d.BackGround(t,this.container),this.xAxis.ticks.onCoordsChanged.add(function(){e.backgroundDraw()}),this.yAxis.ticks.onCoordsChanged.add(function(){e.backgroundDraw()}),this.background.canvas.resized.add(function(){e.backgroundDraw()}),this.backgroundDraw()},t.prototype.backgroundDraw=function(){this.background&&this.background.draw(this.xAxis.ticks.coords,this.yAxis.ticks.coords)},t.prototype.addPlot=function(t,e){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=new(o.Plot.bind.apply(o.Plot,n([void 0,t,e],i)));return this.plots.push(a),a},t.prototype.findPlotById=function(t){var e=this.plots.filter(function(e){return e.id===t});return 0!==e.length?e[0]:null},t.prototype.addSeries=function(t,e,i){var n=this,s=new f.SeriesXY(t,this.container,e,i);return this.data.seriesStorage.push(s),s.canvas.setPaddings(this.canvasTT.top,this.canvasTT.right,this.canvasTT.bottom,this.canvasTT.left),s.updatePlotData(this.axisRect,s.canvas.viewport,!0),s.onPlotDataChanged.add(this.seriesReDraw),s.onSeriesDataChanged.add(function(t){t.updatePlotData(n.axisRect,t.canvas.viewport)}),s.canvas.resized.add(function(){s.updatePlotData(n.axisRect,s.canvas.viewport,!0)}),s.canvas.onPaddingsSetted.add(function(){s.updatePlotData(n.axisRect,s.canvas.viewport,!0)}),s},t.prototype.addSeriesRow=function(t,e){var i=this,n=new p.SeriesBase(t,this.container,e);return this.data.seriesStorage.push(n),n.canvas.setPaddings(this.canvasTT.top,this.canvasTT.right,this.canvasTT.bottom,this.canvasTT.left),n.updatePlotData(this.axisRect,n.canvas.viewport,!0),n.onPlotDataChanged.add(this.seriesReDraw),n.onSeriesDataChanged.add(function(t){t.updatePlotData(i.axisRect,t.canvas.viewport)}),n.canvas.resized.add(function(){n.updatePlotData(i.axisRect,n.canvas.viewport,!0)}),n.canvas.onPaddingsSetted.add(function(){n.updatePlotData(i.axisRect,n.canvas.viewport,!0)}),n},t.prototype.switchDataAnimation=function(t,e){this.data.seriesStorage.forEach(function(i,n){i.hasAnimation=t,e&&(i.animationDuration=e)})},t.prototype.tooltipsDraw=function(t){var e=this;this.canvasTT.clear();var i=this.canvasTT.mouseCoords,n=new c.Transformer,s=[],a=[],o=[];this.data.seriesStorage.forEach(function(r){var c=e.xAxis.min+i.x*e.xAxis.length/e.canvasTT.viewport.width,h=e.yAxis.max-i.y*e.yAxis.length/e.canvasTT.viewport.height,d=new l.Point(c,h),u=r.getClosestDataPointX(d),p=u[0],f=u[1],y=r.getClosestPlotPointX(new l.Point(i.x+e.canvasTT.left,i.y+e.canvasTT.top)),v=r.getClosestPlotPointXY(new l.Point(i.x+e.canvasTT.left,i.y+e.canvasTT.top));e.tooltipsDataIndexUpdated.dispatch(p.x);n.getVeiwportCoord(e.axisRect,e.canvasTT.viewport,p);r.plots.forEach(function(i){var n=e.findPlotById(i);n&&n.tooltips.forEach(function(i){if(t)switch(i.type){case"data_y_end":o.push([i,y,p]);break;case"circle_series":i.drawTooltip(e.canvasTT.ctx,e.canvasTT.viewport,new l.Point(y.x,y.y),p)}else switch(i.type){case"delta_abs":if(0==s.length)s.push(p),a.push(y);else{var r=a[0].y<y.y?a[0]:y,c=new l.Point(Math.abs(p.x-s[0].x),Math.abs(p.y-s[0].y));i.drawTooltip(e.canvasTT.ctx,e.canvasTT.viewport,r,c),s.pop(),a.pop()}break;case"data_y_end":o.push([i,y,p]);break;case"label_x_start":i.drawTooltip(e.canvasTT.ctx,e.canvasTT.viewport,new l.Point(y.x,y.y),p,f);break;case"line_vertical_full":i.drawTooltip(e.canvasTT.ctx,e.canvasTT.viewport,new l.Point(y.x,y.y),p);break;case"data_label":i.drawTooltip(e.canvasTT.ctx,e.canvasTT.viewport,new l.Point(v.x,v.y),p,f),"unicode"==n.type&&n.drawPlot(e.canvasTT.ctx,[v],e.canvasTT.viewport,!0);break;default:i.drawTooltip(e.canvasTT.ctx,e.canvasTT.viewport,new l.Point(y.x,y.y),p)}})})}),o.sort(function(t,e){return t[1].y-e[1].y});for(var r=0;r<o.length-1;r++){var h=o[r][0].drawTooltip(this.canvasTT.ctx,this.canvasTT.viewport,o[r][1],o[r][2],0,!1),d=o[r+1][0].drawTooltip(this.canvasTT.ctx,this.canvasTT.viewport,o[r+1][1],o[r+1][2],0,!1);if(h.y2>d.y1){var u=Math.abs(h.y2-d.y1),p=.5*-u,f=.5*u;Math.abs(h.y1-this.canvasTT.viewport.y1)<Math.abs(p)&&(f=u+(p=-Math.abs(h.y1-this.canvasTT.viewport.y1))),Math.abs(d.y2-this.canvasTT.viewport.y2)<f&&(p=-(u-(f=-Math.abs(h.y2-this.canvasTT.viewport.y2)))),o[r][1].y=o[r][1].y+p,o[r+1][1].y=o[r+1][1].y+f}}o.forEach(function(t){t[0].drawTooltip(e.canvasTT.ctx,e.canvasTT.viewport,t[1],t[2],0,!0)})},t}();i.Chart=y},{"./Axis":5,"./BackGround":6,"./Canvas":7,"./Data":9,"./Plot":13,"./Point":14,"./Rectangle":15,"./Transformer":18,"./series/SeriesBase":19,"./series/SeriesXY":20,signals:3}],9:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Data=void 0;var n=function(){function t(){this.seriesStorage=[]}return t.prototype.findExtremes=function(t,e,i){var n=[],s=[];return this.seriesStorage.forEach(function(a){var o;o=void 0!==e&&void 0!==i?a.getDataRange(t,e,i):a.seriesData;var r=a.findExtremes(o);switch(t){case"ind":s.push(r[2]),n.push(r[3]);break;case"val":s.push(r[0]),n.push(r[1])}}),[Math.min.apply(Math,s),Math.max.apply(Math,n)]},t.prototype.findSeriesById=function(t){var e=this.seriesStorage.filter(function(e){return e.id===t});return 0!==e.length?e[0]:null},t.prototype.switchAllSeriesAnimation=function(t,e){this.seriesStorage.forEach(function(i,n){i.hasAnimation=t,e&&(i.animationDuration=e)})},t.prototype.changeAllSeriesAnimationTimeFunction=function(t){this.seriesStorage.forEach(function(e,i){e.timeFunc=t})},t}();i.Data=n},{}],10:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Grid=void 0;var n=t("signals"),s=function(){function t(t){this.display=!1,this.onOptionsSetted=new n.Signal,this.type=t,this.width=1,this.color="black",this.lineDash=[1,0]}return t.prototype.setOptions=function(t,e,i,n){this.display=t,this.width=i,this.color=e,this.lineDash=n,this.onOptionsSetted.dispatch()},t.prototype.draw=function(t,e,i){var n=this;t.strokeStyle=this.color,t.fillStyle=this.color,t.lineWidth=this.width,t.setLineDash(this.lineDash),i.forEach(function(i){switch(t.beginPath(),n.type){case"vertical":t.moveTo(e.x1,i.y),t.lineTo(e.x2,i.y);break;case"horizontal":t.moveTo(i.x,e.y1),t.lineTo(i.x,e.y2)}t.stroke()}),t.setLineDash([])},t}();i.Grid=s},{signals:3}],11:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Label=void 0;var n=t("./Point"),s=t("signals"),a=t("./Rectangle"),o=function(){function t(t){switch(this.display=!0,this.color="black",this.color_counter=0,this.font="16px serif",this.fontSize=16,this.position="bottom",this.offset=0,this.rotationAngle=0,this.isUpperCase=!1,this.hasOutline=!1,this.onOptionsSetted=new s.Signal,t){case"vertical":this.position="left";break;case"horizontal":this.position="bottom"}}return t.prototype.setOptions=function(t,e,i,n,s,a){return this.color=e||"black",this.position=i||"bottom",this.offset=n||0,this.display=t,a&&(this.colorArr=a,this.color_counter=0),s&&(this.font=s[0]+"px "+s[1],this.fontSize=+s[0]),this.onOptionsSetted.dispatch(),this},t.prototype.setOutline=function(t){this.hasOutline=!0,this.outlineOptions=t},t.prototype.setOffset=function(t,e){this.offsetX=t,this.offsetY=e,this.onOptionsSetted.dispatch()},t.prototype.addOffset=function(t){if(this.offsetX&&this.offsetY)t.y=t.y-this.offsetY,t.x=t.x+this.offsetX;else switch(this.position){case"top":t.y=t.y-this.offset-.5*this.fontSize;break;case"bottom":t.y=t.y+this.offset+.5*this.fontSize;break;case"left":t.x=t.x-this.offset;break;case"right":t.x=t.x+this.offset}},t.prototype.draw=function(t,e,i){this.colorArr?(t.fillStyle=this.colorArr[this.color_counter],this.color_counter=this.color_counter+1,this.color_counter==this.colorArr.length&&(this.color_counter=0)):t.fillStyle=this.color,t.font=this.font,t.textBaseline="middle",this.isUpperCase&&"string"==typeof i&&(i=i.toUpperCase());var s=t.measureText(i),a=new n.Point(e.x-.5*s.width,e.y);this.addOffset(a);var o=i;this.units&&(o=i+this.units),0!==this.rotationAngle?(t.save(),t.translate(a.x+.5*s.width,a.y+.5*this.fontSize),t.rotate(Math.PI/180*this.rotationAngle),t.translate(-a.x-.5*s.width,-a.y-.5*this.fontSize),t.fillText(o,a.x,a.y),t.restore()):(this.hasOutline&&this.drawOutline(t,a,o),t.fillText(o,a.x,a.y))},t.prototype.drawOutline=function(t,e,i){this.outlineOptions&&(t.lineWidth=this.outlineOptions.width,t.strokeStyle=this.outlineOptions.color,t.strokeText(i,e.x,e.y))},t.prototype.getlabelRect=function(t,e,i){t.font=this.font;var s=t.measureText(i),o=new n.Point(e.x-.5*s.width,e.y);this.addOffset(o);var r=0;return-1!==this.font.indexOf("Transcript Pro")&&(r=2),new a.Rectangle(o.x,o.y-.5*this.fontSize,o.x+s.width,o.y+.5*this.fontSize-r)},t}();i.Label=o},{"./Point":14,"./Rectangle":15,signals:3}],12:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Legend=void 0;var n=t("./Label"),s=function(){function t(t,e){return this.text=t,this.label=new n.Label,this.getCoord=e,this}return t.prototype.draw=function(t,e){var i=this,n=this.getCoord(e);this.text.forEach(function(e){i.label.draw(t,n,e),n.y=n.y+i.label.fontSize})},t}();i.Legend=s},{"./Label":11}],13:[function(t,e,i){"use strict";var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),s=0;for(e=0;e<i;e++)for(var a=arguments[e],o=0,r=a.length;o<r;o++,s++)n[s]=a[o];return n};Object.defineProperty(i,"__esModule",{value:!0}),i.Plot=void 0;var s=t("./Point"),a=t("./Tooltip"),o=t("./Label"),r=function(){function t(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return this._id=t,this.type=e,this._options={lineWidth:.5,lineColor:"#000000",brushColor:"#000000",mainSize:1,fontSize:10,char:"1",lineDash:[]},this.setOptions(i),this.tooltips=[],this.label=new o.Label(this.type),this}return t.prototype.setOptions=function(t){switch(this.type){case"dotted":this._options.lineWidth=t[0],this._options.lineColor=t[1],this._options.brushColor=t[2],this._options.mainSize=t[3];break;case"line":this._options.lineWidth=t[0],this._options.lineColor=t[1],this._options.lineDash=t[2];break;case"area":case"area_bottom":this._options.lineWidth=t[0],this._options.lineColor=t[1],this._options.brushColor=t[2];break;case"unicode":this._options.fontSize=t[0],this._options.brushColor=t[1],this._options.char=t[2];break;case"text":this._options.lineWidth=t[0],this._options.lineColor=t[1]}},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),t.prototype.drawPlot=function(t,e,i,n,s){switch(t.strokeStyle=this._options.lineColor,t.lineWidth=this._options.lineWidth,t.globalAlpha=1,t.fillStyle=this._options.brushColor,this.type){case"dotted":this.drawDotted(t,e);break;case"line":this.drawLine(t,e);break;case"area":case"area_bottom":this.drawArea(t,e,i);break;case"unicode":this.drawUnicode(t,e,s);break;case"text":this.drawText(t,e,n)}},t.prototype.drawDotted=function(t,e){for(var i=0;i<e.length;i++)t.beginPath(),t.arc(e[i].x,e[i].y,this._options.mainSize,0,2*Math.PI,!0),t.closePath(),t.fill(),t.stroke()},t.prototype.drawUnicode=function(t,e,i){t.font=this._options.fontSize+"px serif",t.textBaseline="middle";for(var n=t.measureText(this._options.char),s=0;s<e.length;s++)t.globalAlpha=1,t.fillText(this._options.char,e[s].x-.5*n.width,e[s].y),i&&(t.lineWidth=7,t.globalAlpha=.3,t.strokeText(this._options.char,e[s].x-.5*n.width,e[s].y),t.globalAlpha=1,t.fillText(this._options.char,e[s].x-.5*n.width,e[s].y))},t.prototype.drawText=function(t,e,i){for(var n=this,a=0;a<e.length;a++)t.globalAlpha=1,t.beginPath(),t.setLineDash([]),t.moveTo(e[a].x,e[a].y-10),t.lineTo(e[a].x,e[a].y-25),t.stroke();var o=function(a){var o=i[a];o||(o=""),o.split("\\n").forEach(function(i,o,r){var c=new s.Point(e[a].x,e[a].y-(r.length-o-1)*n.label.fontSize);n.label.draw(t,c,i)})};for(a=0;a<e.length;a++)o(a)},t.prototype.drawLine=function(t,e){t.setLineDash(this._options.lineDash),t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var i=1;i<e.length;i++)t.lineTo(e[i].x,e[i].y);t.stroke()},t.prototype.drawArea=function(t,e,i){t.beginPath(),"area_bottom"==this.type&&t.lineTo(i.x1,i.zeroY),t.lineTo(e[0].x,e[0].y);for(var n=1;n<e.length;n++)t.lineTo(e[n].x,e[n].y);"area_bottom"==this.type&&t.lineTo(i.x2,i.zeroY),t.closePath(),t.fill(),t.stroke()},t.prototype.addTooltip=function(t,e){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var o=new(a.Tooltip.bind.apply(a.Tooltip,n([void 0,t,e],i)));return this.tooltips.push(o),o},t.prototype.findTooltipById=function(t){var e=this.tooltips.filter(function(e){return e.id===t});return 0!==e.length?e[0]:null},t}();i.Plot=r},{"./Label":11,"./Point":14,"./Tooltip":17}],14:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Point=void 0;var n=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.findDist=function(t){return Math.sqrt((this.x-t.x)*(this.x-t.x)+(this.y-t.y)*(this.y-t.y))},t.prototype.findDistX=function(t){return Math.abs(this.x-t.x)},t}();i.Point=n},{}],15:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Rectangle=void 0;var n=function(){function t(t,e,i,n){this.x1=t,this.y1=e,this.x2=i,this.y2=n,this.updateCoords(t,e,i,n)}return Object.defineProperty(t.prototype,"width",{get:function(){return Math.abs(this.x1-this.x2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Math.abs(this.y1-this.y2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zeroX",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zeroY",{get:function(){return this.y2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"midX",{get:function(){return this.x1+.5*Math.abs(this.x2-this.x1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"midY",{get:function(){return this.y1+.5*Math.abs(this.y2-this.y1)},enumerable:!1,configurable:!0}),t.prototype.updateCoords=function(t,e,i,n){this.x1=t,this.y1=e,this.x2=i,this.y2=n},t.prototype.countDistBetweenRects=function(t,e){switch(t){case"vertical":return this.y1-e.y2;case"horizontal":return this.x1-e.x2}},t.prototype.move=function(t,e){this.x1=this.x1+t,this.y1=this.y1+e,this.x2=this.x2+t,this.y2=this.y2+e},t}();i.Rectangle=n},{}],16:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Ticks=void 0;var n=t("signals"),s=t("./Point"),a=t("./Rectangle"),o=t("./Label"),r=t("./Transformer"),c=function(){function t(t){this.display=!1,this.hasCustomLabels=!1,this.hasAnimation=!1,this.animationDuration=300,this.timeFunc=function(t){return t},this.linewidth=2,this.tickSize=5,this.color="black",this.lineDash=[],this.onOptionsSetted=new n.Signal,this.onCustomLabelsAdded=new n.Signal,this.onCoordsChanged=new n.Signal,this.coords=[],this.values=[],this.labels=[],this.type=t,this.label=new o.Label(this.type),this.distributionType="default",this.count=5,this.step=100,this.bindChildSignals()}return t.prototype.switchAnimation=function(t,e){this.hasAnimation=t,e&&(this.animationDuration=e)},t.prototype.bindChildSignals=function(){},t.prototype.setCustomLabels=function(t){this.hasCustomLabels=!0,this.customLabels=t,this.onCustomLabelsAdded.dispatch()},t.prototype.settickDrawOptions=function(t,e,i,n){this.linewidth=e,this.tickSize=t,this.color=i,n&&(this.lineDash=n)},t.prototype.setOptions=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];switch(this.display=t,e){case"default":case"fixedCount":this.distributionType=e,this.count=i[0];break;case"fixedStep":this.distributionType=e,this.step=i[0];break;case"customDateTicks":case"niceCbhStep":this.distributionType=e,0!==i.length&&(this.customTicksOptions=i[0]);break;case"midStep":this.distributionType=e,this.count=i[0];break;case"zero":case"min":this.distributionType=e}this.onOptionsSetted.dispatch()},t.prototype.createTicks=function(t,e,i,n,s){var a=[];switch(this.distributionType){case"default":a=this.generateFixedCountTicks(t,e,i);break;case"fixedStep":a=this.generateFixedStepTicks(t,e,i);break;case"fixedCount":a=this.generateFixedCountTicks(t,e,i);break;case"customDateTicks":a=this.generateCustomDateTicks(t,e,i,n);break;case"niceCbhStep":a=this.generateNiceCbhTicks(t,e,i);break;case"midStep":a=this.generateMidStep(t,e,i);break;case"zero":a=this.generateOneTick(t,e,i,0);break;case"min":a=this.generateOneTick(t,e,i,t)}if(this.hasAnimation&&!s){var o=this.makeFromPointArr(this.coords,a);return 0==o.length?(this.coords=a,this.onCoordsChanged.dispatch(),this):(this.coords=o,this.onCoordsChanged.dispatch(),this.tickCoordAnimation(o,a,this.animationDuration),this)}this.coords=a,this.onCoordsChanged.dispatch()},t.prototype.generateOneTick=function(t,e,i,n){var o=[];this.values=[],this.labels=[];var c=[],h=new r.Transformer;switch(this.type){case"vertical":c=[0,t,1,e];break;case"horizontal":c=[t,0,e,1]}var l=new a.Rectangle(c[0],c[1],c[2],c[3]),d=[];switch(this.hasCustomLabels?this.labels.push(this.customLabels[0]):this.labels.push(n.toFixed(2).toString()),this.type){case"vertical":d=[0,n];break;case"horizontal":d=[n,0]}var u=new s.Point(d[0],d[1]),p=h.getVeiwportCoord(l,i,u);return o.push(p),this.values.push(n),o},t.prototype.generateMidStep=function(t,e,i){var n=[];this.values=[],this.labels=[];var o=[],c=new r.Transformer,h=Math.abs(e-t)/this.count;switch(this.type){case"vertical":i.height/this.count,o=[0,t,1,e];break;case"horizontal":i.width/this.count,o=[t,0,e,1]}for(var l=new a.Rectangle(o[0],o[1],o[2],o[3]),d=0;d<=this.count-1;d++){var u=[],p=t+d*h+.5*h;switch(this.hasCustomLabels?this.labels.push(this.customLabels[0]):this.labels.push(p.toFixed(2).toString()),this.type){case"vertical":u=[0,p];break;case"horizontal":u=[p,0]}var f=new s.Point(u[0],u[1]),y=c.getVeiwportCoord(l,i,f);n.push(y),this.values.push(p)}return n},t.prototype.generateFixedCountTicks=function(t,e,i){var n=[];this.values=[],this.labels=[];var o=[],c=new r.Transformer,h=Math.abs(e-t)/this.count;switch(this.type){case"vertical":i.height/this.count,o=[0,t,1,e];break;case"horizontal":i.width/this.count,o=[t,0,e,1]}for(var l=new a.Rectangle(o[0],o[1],o[2],o[3]),d=0;d<=this.count;d++){var u=[],p=t+d*h;switch(this.hasCustomLabels?(p=Math.round(p),this.labels.push(this.customLabels[p])):this.labels.push(p.toFixed(2).toString()),this.type){case"vertical":u=[0,p];break;case"horizontal":u=[p,0]}var f=new s.Point(u[0],u[1]),y=c.getVeiwportCoord(l,i,f);n.push(y),this.values.push(p)}return n},t.prototype.generateFixedStepTicks=function(t,e,i,n,o){var c=[];this.values=[],this.labels=[];var h=[],l=this.step;n&&(l=n);var d=new r.Transformer;switch(this.type){case"vertical":h=[0,t,1,e];break;case"horizontal":h=[t,0,e,1]}for(var u=new a.Rectangle(h[0],h[1],h[2],h[3]),p=0;p<e;){if(p>=t&&p<=e){var f=[],y=p;switch(this.hasCustomLabels?(y=Math.round(p),this.labels.push(this.customLabels[y])):null!==o?this.labels.push(y.toFixed(o).toString()):this.labels.push(y.toFixed(2).toString()),this.type){case"vertical":f=[0,y];break;case"horizontal":f=[y,0]}var v=new s.Point(f[0],f[1]),g=d.getVeiwportCoord(u,i,v);c.push(g),this.values.push(y)}p+=l}for(p=0,p-=l;p>t;){if(p>=t&&p<=e){f=[],y=p;switch(this.hasCustomLabels?(y=Math.round(p),this.labels.push(this.customLabels[y])):null!==o?this.labels.push(y.toFixed(o).toString()):this.labels.push(y.toFixed(2).toString()),this.type){case"vertical":f=[0,y];break;case"horizontal":f=[y,0]}v=new s.Point(f[0],f[1]),g=d.getVeiwportCoord(u,i,v);c.push(g),this.values.push(y)}p-=l}return c},t.prototype.generateNiceCbhTicks=function(t,e,i){for(var n=[],s=Math.abs(e-t),a=0,o=0;o<this.customTicksOptions.length;o++){n=this.generateFixedStepTicks(t,e,i,this.customTicksOptions[o],0);var r=this.values.reduce(function(t,e){return e>t?e:t},this.values[0]);Math.abs(r-e)<s&&n.length<=10&&n.length>=4&&(a=o,s=Math.abs(r-e))}return n=this.generateFixedStepTicks(t,e,i,this.customTicksOptions[a],0)},t.prototype.generateCustomDateTicks=function(t,e,i,n){for(var s=[],a=0;a<this.customTicksOptions.length;a++){var o=this.generateCustomDateTicksByOption(a,t,e,i,n);s=o[0];var r=o[1],c=o[2];if(this.checkLabelsOverlap(n,s,c))return this.values=r,this.labels=c,s}return s},t.prototype.tickCoordAnimation=function(t,e,i){var n=this,a=performance.now();requestAnimationFrame(function o(r){var c=(r-a)/i,h=n.timeFunc(c);c>1&&(c=1);var l=t.map(function(i,n){return new s.Point(t[n].x+(e[n].x-t[n].x)*h,t[n].y+(e[n].y-t[n].y)*h)});n.coords=l,n.onCoordsChanged.dispatch(),c<1?requestAnimationFrame(o):(n.coords=e,n.onCoordsChanged.dispatch())})},t.prototype.makeFromPointArr=function(t,e){var i=[];return e.forEach(function(e){if(0!==t.length){var n=t.reduce(function(t,i){return t.findDist(e)<i.findDist(e)?t:i},t[0]);i.push(n)}}),i},t.prototype.generateCustomDateTicksByOption=function(t,e,i,n,o){var c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],h=[],l=new r.Transformer;switch(this.type){case"vertical":h=[0,e,1,i];break;case"horizontal":h=[e,0,i,1]}var d=new a.Rectangle(h[0],h[1],h[2],h[3]),u=[],p=[],f=[],y=[],v=1,g=this.customTicksOptions[t];switch(g){case"half year":v=2;break;case"third year":v=3;break;case"quarter year":v=4}for(var b=e+1;b<=i;b++){var x=this.customLabels[b],w=this.customLabels[b-1];if(x.getFullYear()-w.getFullYear()!=0){switch(this.type){case"vertical":u=[0,b];break;case"horizontal":u=[b,0]}var m=new s.Point(u[0],u[1]),_=l.getVeiwportCoord(d,n,m);p.push(_),f.push(b),y.push(x.getFullYear())}else if(!(this.customTicksOptions[t]===g&&x.getMonth()%v||x.getMonth()-w.getMonth()==0)){switch(this.type){case"vertical":u=[0,b];break;case"horizontal":u=[b,0]}m=new s.Point(u[0],u[1]),_=l.getVeiwportCoord(d,n,m);p.push(_),f.push(b),y.push(c[x.getMonth()])}if("half month"==this.customTicksOptions[t]&&0!==x.getDay()&&6!==x.getDay()&&((14==x.getDate()||15==x.getDate()||16==x.getDate())&&(1==x.getDay()||4==x.getDay())||14==x.getDate()&&5==x.getDay())){switch(this.type){case"vertical":u=[0,b];break;case"horizontal":u=[b,0]}m=new s.Point(u[0],u[1]),_=l.getVeiwportCoord(d,n,m);p.push(_),f.push(b),y.push(x.getDate())}}return[p,f,y]},t.prototype.checkLabelsOverlap=function(t,e,i){for(var n=1;n<e.length;n++){var s=this.label.getlabelRect(t,e[n],i[n]),a=this.label.getlabelRect(t,e[n-1],i[n-1]);if(s.countDistBetweenRects(this.type,a)<=0)return!1}return!0},t.prototype.draw=function(t,e){var i=this;this.coords.forEach(function(e,n){i.display&&i.drawTick(t,e),i.label.display&&i.label.draw(t,e,i.labels[n])})},t.prototype.drawTick=function(t,e){t.beginPath(),t.strokeStyle=this.color,t.lineWidth=this.linewidth,t.setLineDash(this.lineDash);var i=this.tickSize;switch(this.type){case"vertical":t.moveTo(e.x-i,e.y),t.lineTo(e.x,e.y),t.stroke();break;case"horizontal":t.moveTo(e.x,e.y-i),t.lineTo(e.x,e.y),t.stroke()}},t}();i.Ticks=c},{"./Label":11,"./Point":14,"./Rectangle":15,"./Transformer":18,signals:3}],17:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Tooltip=void 0;var n=t("./Rectangle"),s=t("./Point"),a=t("./Label"),o=function(){function t(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];this._id=t,this.type=e,this._options={lineWidth:1,lineColor:"#000000",brushColor:"#000000",mainSize:2,lineDash:[]},this.label=new a.Label,this.setOptions(i)}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),t.prototype.setOptions=function(t){switch(this.type){case"circle_series":this._options.lineWidth=t[0],this._options.lineColor=t[1],this._options.brushColor=t[2],this._options.mainSize=t[3];break;case"line_vertical_full":case"line_horizontal_end":this._options.lineWidth=t[0],this._options.lineColor=t[1],this._options.lineDash=t[2];break;case"label_x_start":this._options.lineWidth=t[0],this._options.lineColor=t[1],this._options.brushColor=t[2],this._options.mainSize=t[3],this.labels=t[4];break;case"circle_y_end":case"data_y_end":case"delta_abs":this._options.lineWidth=t[0],this._options.lineColor=t[1],this._options.brushColor=t[2],this._options.mainSize=t[3];break;case"data_label":this._options.lineWidth=t[0],this._options.lineColor=t[1],this._options.brushColor=t[2],this.labels=t[3]}},t.prototype.drawTooltip=function(t,e,i,n,s,a){switch(this.type){case"circle_series":this.drawCircleSeries(t,i);break;case"line_vertical_full":this.drawLineVerticalFull(t,e,i);break;case"line_horizontal_end":this.drawLineHorizontalEnd(t,e,i);break;case"label_x_start":this.drawLabelXStart(t,e,i,n,s);break;case"circle_y_end":this.drawCircleYEnd(t,e,i);break;case"data_y_end":return this.drawDataYEnd(t,e,i,n,a);case"delta_abs":this.drawDeltaAbs(t,e,i,n);break;case"data_label":this.drawDataLabel(t,e,i,n,s)}},t.prototype.drawDataLabel=function(t,e,i,a,o){t.strokeStyle=this._options.lineColor,t.lineWidth=this._options.lineWidth,t.fillStyle=this._options.brushColor,t.setLineDash(this._options.lineDash);var r=new s.Point(i.x,i.y);this.label.position="top";i.x;var c=this.labels[o]+"; x: "+a.x.toFixed(1)+"; y: "+a.y.toFixed(1),h=this._options.mainSize,l=this.label.getlabelRect(t,r,c),d=new n.Rectangle(l.x1-6,l.y1-6,l.x2+6,l.y2+6);d.x2>e.x2&&(r.x=r.x-Math.abs(d.x2-e.x2)-6,l=this.label.getlabelRect(t,r,c),d=new n.Rectangle(l.x1-6,l.y1-6,l.x2+6,l.y2+6)),d.x1<e.x1&&(r.x=r.x+Math.abs(d.x1-e.x1)+6,l=this.label.getlabelRect(t,r,c),d=new n.Rectangle(l.x1-6,l.y1-6,l.x2+6,l.y2+6)),d.y1<e.y1&&(this.label.position="bottom",l=this.label.getlabelRect(t,r,c),d=new n.Rectangle(l.x1-6,l.y1-6,l.x2+6,l.y2+6)),this.roundRect(t,d.x1,d.y1,d.width,d.height,h),t.fill(),t.stroke(),this.label.draw(t,r,c)},t.prototype.drawCircleSeries=function(t,e){t.strokeStyle=this._options.lineColor,t.lineWidth=this._options.lineWidth,t.fillStyle=this._options.brushColor,t.setLineDash(this._options.lineDash),t.beginPath(),t.arc(e.x,e.y,this._options.mainSize,0,2*Math.PI,!0),t.closePath(),t.fill(),t.stroke()},t.prototype.drawLineVerticalFull=function(t,e,i){t.strokeStyle=this._options.lineColor,t.lineWidth=this._options.lineWidth,t.setLineDash(this._options.lineDash),t.beginPath(),t.moveTo(i.x,e.y1),t.lineTo(i.x,e.zeroY),t.stroke(),t.setLineDash([])},t.prototype.drawLineHorizontalEnd=function(t,e,i){t.strokeStyle=this._options.lineColor,t.lineWidth=this._options.lineWidth,t.setLineDash(this._options.lineDash),t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(e.x2,i.y),t.stroke(),t.setLineDash([])},t.prototype.drawLabelXStart=function(t,e,i,a,o){t.strokeStyle=this._options.lineColor,t.lineWidth=this._options.lineWidth,t.fillStyle=this._options.brushColor,t.setLineDash(this._options.lineDash);var r=this.labels[o].toLocaleDateString("en"),c=this._options.mainSize,h=new s.Point(i.x,e.zeroY),l=this.label.getlabelRect(t,h,r),d=new s.Point(h.x,l.y1+.5*l.height),u=new n.Rectangle(d.x-30,d.y-6-.5*l.height,d.x+30,d.y+6+.5*l.height);return u.x1<e.x1&&(h.x=h.x+e.x1-u.x1,u.move(0,e.x1-u.x1)),u.x2>e.x2&&(h.x=h.x-(u.x2-e.x2),u.move(0,-u.x2+e.x2)),d=new s.Point(h.x,l.y1+.5*l.height),u=new n.Rectangle(d.x-30,d.y-6-.5*l.height,d.x+30,d.y+6+.5*l.height),this.roundRect(t,u.x1,u.y1,u.width,u.height,c),t.fill(),t.stroke(),this.label.draw(t,h,r),u},t.prototype.roundRect=function(t,e,i,n,s,a){t.beginPath(),t.moveTo(e+a,i),t.lineTo(e+n-a,i),t.quadraticCurveTo(e+n,i,e+n,i+a),t.lineTo(e+n,i+s-a),t.quadraticCurveTo(e+n,i+s,e+n-a,i+s),t.lineTo(e+a,i+s),t.quadraticCurveTo(e,i+s,e,i+s-a),t.lineTo(e,i+a),t.quadraticCurveTo(e,i,e+a,i),t.closePath()},t.prototype.drawCircleYEnd=function(t,e,i){t.strokeStyle=this._options.lineColor,t.lineWidth=this._options.lineWidth,t.fillStyle=this._options.brushColor,t.setLineDash(this._options.lineDash),t.beginPath(),t.arc(e.x2,i.y,this._options.mainSize,0,2*Math.PI,!0),t.closePath(),t.fill(),t.stroke()},t.prototype.drawDataYEnd=function(t,e,i,a,o){var r=new s.Point(i.x,i.y);t.strokeStyle=this._options.lineColor,t.lineWidth=this._options.lineWidth,t.fillStyle=this._options.brushColor,t.setLineDash(this._options.lineDash);var c=a.y.toFixed(1)+"%",h=this._options.mainSize;this.label.position="right";var l=new s.Point(e.x2,r.y),d=this.label.getlabelRect(t,l,c),u=new s.Point(d.x1,d.y1),p=new s.Point(d.x1+.5*d.width,l.y),f=new n.Rectangle(p.x-20,u.y-6,p.x+20,u.y+d.height+6);return f.y1<e.y1&&(l.y=l.y+e.y1-f.y1,r.y=l.y,f.move(0,e.y1-f.y1)),f.y2>e.y2&&(l.y=l.y-(f.y2-e.y2),r.y=l.y,f.move(0,-f.y2+e.y2)),this.roundRect(t,f.x1,f.y1,f.width,f.height,h),o&&(t.fill(),t.stroke(),this.label.draw(t,l,c)),f},t.prototype.drawDeltaAbs=function(t,e,i,a){t.strokeStyle=this._options.lineColor,t.lineWidth=this._options.lineWidth,t.fillStyle=this._options.brushColor,t.setLineDash(this._options.lineDash);var o=new s.Point(i.x,i.y);this.label.position="right";var r=i.x;o.y=o.y-25;var c="Δ "+a.y.toFixed(1)+"pp",h=this._options.mainSize,l=this.label.getlabelRect(t,o,c),d=new s.Point(l.x1,l.y1),u=new s.Point(l.x1+.5*l.width,o.y),p=new n.Rectangle(u.x-26,d.y-6,u.x+26,d.y+l.height+6);p.x2>e.x2&&(o.x=o.x-p.x2+e.x2,p.move(-p.x2+e.x2,0)),p.x1<r&&(o.x=r,this.label.position="left",l=this.label.getlabelRect(t,o,c),d=new s.Point(l.x2,l.y1),p=new n.Rectangle(d.x-l.width-6,d.y-6,d.x+6,d.y+l.height+6)),p.y1<e.y1&&(o.y=o.y+e.y1-p.y1,p.move(0,e.y1-p.y1)),this.roundRect(t,p.x1,p.y1,p.width,p.height,h),t.fill(),t.stroke(),this.label.draw(t,o,c)},t}();i.Tooltip=o},{"./Label":11,"./Point":14,"./Rectangle":15}],18:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Transformer=void 0;var n=t("./Rectangle"),s=t("./Point"),a=function(){function t(){this.matrix=[]}return t.prototype.getPlotRect=function(t,e,i){var n=e.x1-t.x1,s=-(e.y2-t.y2),a=e.width/t.width,o=e.height/t.height;return n=Math.round(n*i.width/t.width),s=Math.round(s*i.height/t.height),this.matrix=[a,0,n,0,o,s],this.transform(i)},t.prototype.getVeiwportCoord=function(t,e,i){var n=i.x-t.x1,a=-(i.y-t.y2);n=Math.round(n*e.width/t.width),a=Math.round(a*e.height/t.height),this.matrix=[0,0,n,0,0,a];var o=this.transform(e);return new s.Point(o.zeroX,o.zeroY)},t.prototype.transform=function(t){var e,i,s,a,o=[1,0,0,0,1,0];return this.matrix&&(o=this.matrix),e=this.transFunc(0,0,o.slice(0,3))+t.x1,i=this.transFunc(0,0,o.slice(3))+t.y1,s=this.transFunc(t.width,t.height,o.slice(0,3))+t.x1,a=this.transFunc(t.width,t.height,o.slice(3))+t.y1,new n.Rectangle(e,i,s,a)},t.prototype.transFunc=function(t,e,i){return i[0]*t+i[1]*e+i[2]},t}();i.Transformer=a},{"./Point":14,"./Rectangle":15}],19:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.SeriesBase=void 0;var n=t("signals"),s=t("../Canvas"),a=t("../Point"),o=t("../Rectangle"),r=t("../Transformer"),c=function(){function t(t,e,i){return this.hasAnimation=!1,this.animationDuration=300,this.timeFunc=function(t){return t},this.onPlotDataChanged=new n.Signal,this.onSeriesDataChanged=new n.Signal,this.id=t,this.seriesData=this.getInitialData(i),this.extremes=this.findExtremes(),this.plots=[],this.plotData=[],this.canvas=new s.Canvas(e),this.canvas.canvas.style.zIndex="0",this}return t.prototype.bindChildSignals=function(){this.canvas.resized.add(function(){})},t.prototype.getInitialData=function(t){var e=[];return t.forEach(function(t){var i=[],n=[];t.forEach(function(t,e){i.push(e),n.push(t)}),e.push(i),e.push(n)}),e},t.prototype.setPlotsIds=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.plots=t},t.prototype.findExtremes=function(t){var e=[];t&&(e=t),t||(e=this.seriesData.slice());var i=e[0][0],n=e[0][0],s=e[1][0],a=e[1][0];return e.forEach(function(t,e){t.forEach(function(t){switch(e%2){case 0:t<i&&(i=t),t>n&&(n=t);break;case 1:t<s&&(s=t),t>a&&(a=t)}})}),[i,n,s,a]},Object.defineProperty(t.prototype,"dataRect",{get:function(){var t=this.extremes;return new o.Rectangle(t[0],t[2],t[1],t[3])},enumerable:!1,configurable:!0}),t.prototype.getDataRange=function(t,e,i){for(var n=[],s=function(t){var s=[],o=[],r=a.seriesData[t].slice(),c=a.seriesData[t+1].slice();2==t&&(r=r.slice(),c=c.slice()),r.forEach(function(t,n){t>=e&&t<=i&&(s.push(r[n]),o.push(c[n]))}),n.push(s),n.push(o)},a=this,o=0;o<this.seriesData.length;o+=2)s(o);return n},t.prototype.replaceSeriesData=function(t){this.seriesData=this.getInitialData(t),this.extremes=this.findExtremes()},t.prototype.getClosestDataPointX=function(t){var e=this,i=0;return[this.seriesData[0].reduce(function(n,s,o){var r=new a.Point(s,e.seriesData[1][o]);return t.findDistX(r)<t.findDistX(n)?(i=o,r):n},new a.Point(this.seriesData[0][0],this.seriesData[1][0])),i]},t.prototype.getClosestPlotPointX=function(t){var e=this.plotDataArr.reduce(function(e,i,n){return t.findDistX(i)<t.findDistX(e)?i:e},this.plotDataArr[0]);return new a.Point(e.x,e.y)},t.prototype.getClosestPlotPointXY=function(t){var e=this.plotDataArr.reduce(function(e,i,n){return t.findDist(i)<t.findDist(e)?i:e},this.plotDataArr[0]);return new a.Point(e.x,e.y)},Object.defineProperty(t.prototype,"plotDataArr",{get:function(){for(var t=[],e=0;e<this.plotData.length;e++){var i=this.plotData[e];1==e&&(i=i.slice().reverse()),i.forEach(function(e){t.push(e)})}return t},enumerable:!1,configurable:!0}),t.prototype.updatePlotData=function(t,e,i){var n=this.generatePlotData(t,e);if(i)return this.plotData=n,this.onPlotDataChanged.dispatch(this),this;if(this.hasAnimation){for(var s=[],a=[],o=0;o<this.plotData.length;o++){var r=this.plotData[o],c=this.makeFromPointArr(r.slice(),n[o].slice());s.push(c[0]),a.push(c[1])}this.сoordAnimation(s,a,this.animationDuration,n)}return this.plotData=n,this.onPlotDataChanged.dispatch(this),this},t.prototype.generatePlotData=function(t,e){for(var i=this.getDataRange("ind",t.x1,t.x2),n=[],s=new r.Transformer,o=function(o){var r=[],c=i[o],h=i[o+1];c.forEach(function(i,n){var o=new a.Point(c[n],h[n]),l=s.getVeiwportCoord(t,e,o);r.push(new a.Point(Math.round(l.x),Math.round(l.y)))}),n.push(r)},c=0;c<i.length;c+=2)o(c);return n},t.prototype.сoordAnimation=function(t,e,i,n){var s=this,o=performance.now();requestAnimationFrame(function r(c){var h=(c-o)/i,l=s.timeFunc(h);h>1&&(h=1);var d=[];t.forEach(function(t,i){var n=t.map(function(n,s){return new a.Point(Math.round(t[s].x+(e[i][s].x-t[s].x)*l),Math.round(t[s].y+(e[i][s].y-t[s].y)*l))});d.push(n)}),s.plotData=d,s.onPlotDataChanged.dispatch(s),h<1?requestAnimationFrame(r):(s.plotData=n,s.onPlotDataChanged.dispatch(s))})},t.prototype.makeFromPointArr=function(t,e){var i=[];if(0==t.length)return i;var n=[],s=[],a=e.slice(),o=t.slice();if(o.length<a.length){for(var r=Math.floor(a.length/o.length),c=0,h=0;c<o.length;)n.push(o[c]),a.shift(),(h+=1)==r&&(c+=1,h=0);for(;0!==a.length;)n.push(o[o.length-1]),a.shift();return i.push(n),i.push(e),i}r=Math.floor(o.length/a.length);var l=0;for(h=0;l<a.length;)s.push(a[l]),o.shift(),(h+=1)==r&&(l+=1,h=0);for(;0!==o.length;)s.push(a[a.length-1]),o.shift();return i.push(t),i.push(s),i},t}();i.SeriesBase=c},{"../Canvas":7,"../Point":14,"../Rectangle":15,"../Transformer":18,signals:3}],20:[function(t,e,i){"use strict";var n,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0}),i.SeriesXY=void 0;var a=t("../Point"),o=t("../Transformer"),r=function(t){function e(e,i,n,s){var a=t.call(this,e,i,n)||this;return a.plotLabels=[],a.canvas.canvas.style.zIndex="3",s&&(a.labels=s),a}return s(e,t),e.prototype.getInitialData=function(t){var e=[],i=[],n=[];return t[0].forEach(function(e,s){i.push(e),n.push(t[1][s])}),e.push(i),e.push(n),e},e.prototype.generatePlotData=function(t,e){var i=this.getDataRange("ind",t.x1,t.x2),n=[],s=new o.Transformer,r=[],c=i[0],h=i[1];return c.forEach(function(i,n){var o=new a.Point(c[n],h[n]),l=s.getVeiwportCoord(t,e,o);r.push(new a.Point(Math.round(l.x),Math.round(l.y)))}),n.push(r),n},e.prototype.getDataRange=function(t,e,i){var n=this,s=[];this.plotLabels.splice(0,this.plotLabels.length);var a=[],o=[],r=this.seriesData[0].slice(),c=this.seriesData[1].slice();return r.forEach(function(t,s){t>=e&&t<=i&&(a.push(r[s]),o.push(c[s]),n.labels&&n.plotLabels.push(n.labels[s]))}),s.push(a),s.push(o),s},e}(t("./SeriesBase").SeriesBase);i.SeriesXY=r},{"../Point":14,"../Transformer":18,"./SeriesBase":19}],21:[function(t,e,i){"use strict";var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),s=0;for(e=0;e<i;e++)for(var a=arguments[e],o=0,r=a.length;o<r;o++,s++)n[s]=a[o];return n};Object.defineProperty(i,"__esModule",{value:!0}),i.createChart=i.chart=void 0;var s,a,o=t("../classes/Chart"),r=t("../classes/Ticks"),c=[],h=[],l=[],d=.08,u=t("bezier-easing")(.65,0,.35,1);function p(t,e){var i=[];i=[];for(var n=0,s=t.length;n<s;n++)i.push(100*(t[n]-e)/e);return i}function f(t){return h.reduce(function(e,i,n){return Math.abs(i-t)<Math.abs(h[e]-t)?n:e},0)}i.createChart=function(t,e){var f;i.chart=new o.Chart(t,[0,900],[0,2e3]),f=n(e),h=f[0],c=f[1],l=f[2],s=f[3],a=f[4],i.chart.xAxis.setOptions("start",.5,"black"),i.chart.xAxis.display=!0,i.chart.xAxis.ticks.display=!0,i.chart.xAxis.ticks.setCustomLabels(h),i.chart.xAxis.ticks.setOptions(!0,"customDateTicks",["half month","year","half year","third year","quarter year"]),i.chart.xAxis.ticks.settickDrawOptions(-6,.5,"black"),i.chart.xAxis.ticks.label.setOptions(!0,"#B2B2B2","bottom",11,["12",'"Transcript Pro"']),i.chart.xAxis.ticks.label.isUpperCase=!0,i.chart.xAxis.grid.setOptions(!0,"#B2B2B2",1,[1,2]),i.chart.yAxis.setOptions("end",1,"#B2B2B2",[1,2]),i.chart.yAxis.display=!0,i.chart.yAxis.position="end",i.chart.yAxis.ticks.setOptions(!0,"niceCbhStep",[1,5,10,15,20,25,30]),i.chart.yAxis.ticks.settickDrawOptions(-50,1,"#B2B2B2",[1,2]),i.chart.yAxis.ticks.label.setOptions(!0,"#B2B2B2","right",0,["12",'"Transcript Pro"']),i.chart.yAxis.ticks.label.setOffset(30,10),i.chart.yAxis.ticks.label.units="%",i.chart.yAxis.grid.setOptions(!0,"#B2B2B2",1,[1,2]);var y=new r.Ticks(i.chart.yAxis.type);y.setOptions(!0,"zero"),y.settickDrawOptions(-50,1,"#000000",[2,1]),y.label.display=!1,y.hasAnimation=!0,y.timeFunc=u,i.chart.yAxis.addCustomTicks(y);var v=new r.Ticks(i.chart.yAxis.type);v.setOptions(!0,"min"),v.settickDrawOptions(-50,.5,"black",[]),v.label.display=!1,i.chart.yAxis.addCustomTicks(v),i.chart.addPlot("black_line","line",1,"#000000",[]),i.chart.addPlot("light_gray_area","area_bottom",0,"#F2F2F2","#F2F2F2",0),i.chart.addPlot("zero_line","line",1,"#000000",[2,1]),i.chart.addPlot("labeled","text",1,"#000000","#000000").label.setOptions(!0,"black","top",35,["18",'"Transcript Pro"']).setOutline({width:5,color:"white"});var g=p(c,c[0]),b=[s[0],p(s[1],c[0])];i.chart.addSeriesRow("cyberHedge_area",[g]).setPlotsIds("light_gray_area"),i.chart.addSeriesRow("cyberHedge_line",[g]).setPlotsIds("black_line"),i.chart.addSeriesRow("zero_line",[l]).setPlotsIds("zero_line"),i.chart.addSeries("cyberHedge_labels",b,a).setPlotsIds("labeled"),i.chart.xAxis.setMinMax(i.chart.data.findExtremes("val"),!1),i.chart.yAxis.setMinMax(i.chart.data.findExtremes("ind",i.chart.xAxis.min,i.chart.xAxis.max),!1),i.chart.yAxis.setMinMax([i.chart.yAxis.min-d*i.chart.yAxis.length,i.chart.yAxis.max+d*i.chart.yAxis.length],!1),i.chart.xAxis.ticks.switchAnimation(!0,300),i.chart.yAxis.ticks.switchAnimation(!0,300),i.chart.switchDataAnimation(!0,300),i.chart.data.changeAllSeriesAnimationTimeFunction(u),i.chart.setCanvasPaddings(25,80,40,20)},document.querySelectorAll(".ranges_black li").forEach(function(t){t.addEventListener("click",function(){document.querySelector(".ranges_black li.selected").classList.remove("selected"),t.classList.add("selected");var e=h[h.length-1],n=h.length-1,a=0;switch(t.innerHTML){case"6M":a=f(new Date(new Date(e.getTime()).setMonth(e.getMonth()-6)));break;case"1Y":a=f(new Date(new Date(e.getTime()).setFullYear(e.getFullYear()-1)));break;case"2Y":a=f(new Date(new Date(e.getTime()).setFullYear(e.getFullYear()-2)));break;case"YTD":a=f(new Date(new Date(e.getFullYear(),0,1).getTime()))}!function(t,e,n,a){var o,r,c,u,f=p(t,t[e]),y=[s[0],p(s[1],t[e])];if(null===(o=i.chart.data.findSeriesById("cyberHedge_area"))||void 0===o||o.replaceSeriesData([f]),null===(r=i.chart.data.findSeriesById("cyberHedge_line"))||void 0===r||r.replaceSeriesData([f]),null===(c=i.chart.data.findSeriesById("zero_line"))||void 0===c||c.replaceSeriesData([l]),null===(u=i.chart.data.findSeriesById("cyberHedge_labels"))||void 0===u||u.replaceSeriesData(y),a){i.chart.xAxis.ticks.setCustomLabels(h),i.chart.xAxis.setMinMax([e,n],!1);var v=i.chart.data.findExtremes("ind",e,n),g=Math.abs(v[0]-v[1]);i.chart.yAxis.setMinMax([v[0]-d*g,v[1]+d*g],!0)}}(c,a,n,!0)})})},{"../classes/Chart":8,"../classes/Ticks":16,"bezier-easing":1}],22:[function(t,e,i){"use strict";var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),s=0;for(e=0;e<i;e++)for(var a=arguments[e],o=0,r=a.length;o<r;o++,s++)n[s]=a[o];return n};Object.defineProperty(i,"__esModule",{value:!0}),i.createChart=i.chart=void 0;var s=t("../classes/Chart"),a=t("../classes/Ticks"),o=t("../scripts/helpers"),r=[],c=[],h=[],l=[],d=.08,u=t("bezier-easing")(.65,0,.35,1);function p(t,e){var i=[];i=[];for(var n=0,s=t.length;n<s;n++)i.push(100*(t[n]-e)/e);return i}i.createChart=function(t,e){var o,f,y,b,w,m,_,T,k,P,D,S,C,A;i.chart=new s.Chart(t,[0,900],[0,2e3]),o=n(e),h=o[0],c=o[1],r=o[2],l=o[3],x(h[h.length-1]),i.chart.tooltipsDataIndexUpdated.add(v),i.chart.tooltipsDataIndexUpdated.add(g),i.chart.xAxis.setOptions("start",.5,"black"),i.chart.xAxis.ticks.setCustomLabels(h),i.chart.xAxis.display=!0,i.chart.xAxis.ticks.setOptions(!0,"customDateTicks",["half month","year","half year","third year","quarter year"]),i.chart.xAxis.ticks.display=!0,i.chart.xAxis.ticks.settickDrawOptions(-6,.5,"black"),i.chart.xAxis.ticks.label.setOptions(!0,"#B2B2B2","bottom",11,["12",'"Transcript Pro"']),i.chart.xAxis.ticks.label.isUpperCase=!0,i.chart.yAxis.setOptions("end",1,"#B2B2B2",[1,2]),i.chart.yAxis.display=!0,i.chart.yAxis.position="end",i.chart.yAxis.ticks.settickDrawOptions(-50,1,"#B2B2B2",[1,2]),i.chart.yAxis.ticks.setOptions(!0,"niceCbhStep",[1,5,10,15,20,25,30]),i.chart.yAxis.ticks.label.setOptions(!0,"#B2B2B2","right",0,["12",'"Transcript Pro"']).setOffset(30,10),i.chart.yAxis.ticks.label.units="%",i.chart.yAxis.grid.setOptions(!0,"#B2B2B2",1,[1,2]);var O=new a.Ticks(i.chart.yAxis.type);O.setOptions(!0,"zero"),O.settickDrawOptions(-50,1,"#000000",[2,1]),O.label.display=!1,O.hasAnimation=!0,O.timeFunc=u,i.chart.yAxis.addCustomTicks(O);var B=new a.Ticks(i.chart.yAxis.type);B.setOptions(!0,"min"),B.settickDrawOptions(-50,.5,"black",[]),B.label.display=!1,i.chart.yAxis.addCustomTicks(B),i.chart.addPlot("red_line","line",1,"#FF2222",[]),i.chart.addPlot("red_area","area_bottom",0,"#FFE5E5","#FFE5E5",0),i.chart.addPlot("blue_line","line",1,"#0070FF",[]),i.chart.addPlot("blue_area","area_bottom",0,"#D9EAFF","#D9EAFF",0),i.chart.addPlot("zero_line","line",1,"#000000",[2,1]),null===(f=i.chart.findPlotById("blue_line"))||void 0===f||f.addTooltip("ttId","line_vertical_full",1,"#B2B2B2",[1,2]),null===(y=i.chart.findPlotById("red_line"))||void 0===y||y.addTooltip("ttId","line_horizontal_end",1,"#B2B2B2",[1,2]),null===(b=i.chart.findPlotById("blue_line"))||void 0===b||b.addTooltip("ttId","line_horizontal_end",1,"#B2B2B2",[1,2]),null===(w=i.chart.findPlotById("blue_line"))||void 0===w||w.addTooltip("ttId","circle_series",3,"#ffffff","#0070FF",4),null===(m=i.chart.findPlotById("red_line"))||void 0===m||m.addTooltip("ttId","circle_series",3,"#ffffff","#FF2222",4),null===(_=i.chart.findPlotById("black_line"))||void 0===_||_.addTooltip("ttId","circle_series",3,"#ffffff","black",4),null===(T=i.chart.findPlotById("blue_line"))||void 0===T||T.addTooltip("ttId","circle_y_end",3,"#ffffff","#0070FF",4),null===(k=i.chart.findPlotById("red_line"))||void 0===k||k.addTooltip("ttId","circle_y_end",3,"#ffffff","#FF2222",4),null===(P=i.chart.findPlotById("red_line"))||void 0===P||P.addTooltip("ttId","label_x_start",.5,"black","#ebebeb",4,h).label.setOptions(!0,"black","bottom",14,["12",'"Transcript Pro"']),null===(D=i.chart.findPlotById("red_line"))||void 0===D||D.addTooltip("ttId","data_y_end",.5,"#FF2222","#FF2222",4).label.setOptions(!0,"white","right",30,["12",'"Transcript Pro"']),null===(S=i.chart.findPlotById("blue_line"))||void 0===S||S.addTooltip("ttId","data_y_end",.5,"#0070FF","#0070FF",4).label.setOptions(!0,"white","right",30,["12",'"Transcript Pro"']),null===(C=i.chart.findPlotById("red_line"))||void 0===C||C.addTooltip("delta_1","delta_abs",.5,"black","#ebebeb",4).label.setOptions(!0,"black","right",35,["12",'"Transcript Pro"']),null===(A=i.chart.findPlotById("blue_line"))||void 0===A||A.addTooltip("delta_1","delta_abs",.5,"black","#ebebeb",4).label.setOptions(!0,"black","right",35,["12",'"Transcript Pro"']);var M=p(c,c[0]),F=p(r,r[0]);i.chart.addSeriesRow("cyberHedge5_area",[M]).setPlotsIds("blue_area"),i.chart.addSeriesRow("cyberHedge1_area",[F]).setPlotsIds("red_area"),i.chart.addSeriesRow("cyberHedge5_line",[M]).setPlotsIds("blue_line"),i.chart.addSeriesRow("cyberHedge1_line",[F]).setPlotsIds("red_line"),i.chart.addSeriesRow("zero_line",[l]).setPlotsIds("zero_line"),i.chart.xAxis.setMinMax(i.chart.data.findExtremes("val"),!0),i.chart.yAxis.setMinMax(i.chart.data.findExtremes("ind",i.chart.xAxis.min,i.chart.xAxis.max),!0),i.chart.yAxis.setMinMax([i.chart.yAxis.min-d*i.chart.yAxis.length,i.chart.yAxis.max+d*i.chart.yAxis.length],!0),i.chart.xAxis.ticks.switchAnimation(!0,300),i.chart.yAxis.ticks.switchAnimation(!0,300),i.chart.switchDataAnimation(!0,300),i.chart.data.changeAllSeriesAnimationTimeFunction(u),i.chart.setCanvasPaddings(25,80,40,20)},document.querySelectorAll(".zones_colored li").forEach(function(t){t.addEventListener("click",function(){var e=t.querySelector("a");document.querySelector(".zones_colored li.selected").classList.remove("selected"),t.classList.add("selected");var i=document.querySelector(".ranges_сolored li.selected");o.customLoadDataFromCsv(e.href).then(function(t){var e=o.csvToCols(t);r=e[2].slice(1).map(function(t){return+t}),c=e[1].slice(1).map(function(t){return+t}),h=e[0].slice(1).map(function(t){return new Date(t)}),l=r.map(function(){return 0}),x(h[h.length-1]);var n=h.length-1;b(c,r,0,n,!1),i.click(i)})})}),document.querySelectorAll(".ranges_сolored li").forEach(function(t){t.addEventListener("click",function(){document.querySelector(".ranges_сolored li.selected").classList.remove("selected"),t.classList.add("selected");var e=h[h.length-1],i=h.length-1,n=0;switch(t.innerHTML){case"6M":n=w(new Date(new Date(e.getTime()).setMonth(e.getMonth()-6)));break;case"1Y":n=w(new Date(new Date(e.getTime()).setFullYear(e.getFullYear()-1)));break;case"2Y":n=w(new Date(new Date(e.getTime()).setFullYear(e.getFullYear()-2)));break;case"YTD":n=w(new Date(new Date(e.getFullYear(),0,1).getTime()))}b(c,r,n,i,!0)})});var f=document.getElementById("cbhIdx1-val-colored"),y=document.getElementById("cbhIdx5-val-colored");function v(t){f&&(f.innerHTML=r[t].toFixed(1))}function g(t){y&&(y.innerHTML=c[t].toFixed(1))}function b(t,e,n,s,a){var o,r,c,u,f,y=p(t,t[n]),v=p(e,e[n]);if(null===(o=i.chart.data.findSeriesById("cyberHedge5_area"))||void 0===o||o.replaceSeriesData([y]),null===(r=i.chart.data.findSeriesById("cyberHedge1_area"))||void 0===r||r.replaceSeriesData([v]),null===(c=i.chart.data.findSeriesById("cyberHedge5_line"))||void 0===c||c.replaceSeriesData([y]),null===(u=i.chart.data.findSeriesById("cyberHedge1_line"))||void 0===u||u.replaceSeriesData([v]),null===(f=i.chart.data.findSeriesById("zero_line"))||void 0===f||f.replaceSeriesData([l]),a){i.chart.xAxis.ticks.setCustomLabels(h),i.chart.xAxis.setMinMax([n,s],!1);var g=i.chart.data.findExtremes("ind",n,s),b=Math.abs(g[0]-g[1]);i.chart.yAxis.setMinMax([g[0]-d*b,g[1]+d*b],!0)}}function x(t){var e=document.querySelector(".last-update-colored time");e.datetime=t.toISOString(),e.innerHTML=[t.getDate(),t.toLocaleString("en-US",{month:"long"}),t.getFullYear()].join(" ")}function w(t){return h.reduce(function(e,i,n){return Math.abs(i-t)<Math.abs(h[e]-t)?n:e},0)}},{"../classes/Chart":8,"../classes/Ticks":16,"../scripts/helpers":26,"bezier-easing":1}],23:[function(t,e,i){"use strict";var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),s=0;for(e=0;e<i;e++)for(var a=arguments[e],o=0,r=a.length;o<r;o++,s++)n[s]=a[o];return n};Object.defineProperty(i,"__esModule",{value:!0}),i.prepareDataforCbh=i.createChart=i.chart=void 0;var s=t("../classes/Chart"),a=t("../scripts/helpers"),o=[],r=[],c=[],h=[],l=.08;function d(t,e,i){for(var n=t.length,s=u(t,i),a=u(e,i),o=[],r=[],c=[],h=[],l=0,d=n;l<d;l++){var p=s[l],f=a[l],y=p>0?p:0;o.push(y);var v=p>0?f>0?f>p?p:f:0:p;r.push(v);var g=f>0?f:p>0?0:p<f?f:p;c.push(g);var b=f>0?0:f;h.push(b)}return{serie5star:s,area5starTop:o,area5starBottom:r,serie1star:a,area1starTop:c,area1starBottom:h}}function u(t,e){var i=[],n=t[e];i=[];for(var s=0,a=t.length;s<a;s++)i.push(100*(t[s]-n)/n);return i}i.createChart=function(e,a){var u,p,f,g,x,w,m,_,T,k,P,D,S,C;i.chart=new s.Chart(e,[0,900],[0,2e3]),u=n(a),c=u[0],r=u[1],o=u[2],h=u[3],b(c[c.length-1]),i.chart.tooltipsDataIndexUpdated.add(y),i.chart.tooltipsDataIndexUpdated.add(v),i.chart.setCanvasPaddings(25,60,40,20),i.chart.xAxis.setOptions("start",1,"black"),i.chart.xAxis.ticks.display=!0,i.chart.xAxis.ticks.settickDrawOptions(6,1,"black"),i.chart.xAxis.ticks.label.setOptions(!0,"#B2B2B2","bottom",11,["12",'"Transcript Pro"']),i.chart.yAxis.setOptions("end",1,"#B2B2B2",[1,2]),i.chart.yAxis.display=!0,i.chart.yAxis.position="end",i.chart.yAxis.ticks.label.setOptions(!0,"#B2B2B2","right",20,["12",'"Transcript Pro"']),i.chart.addPlot("red_line","line",1,"#FF2222",[]),i.chart.addPlot("red_area","area",0,"#FFE5E5","#FFE5E5",0),i.chart.addPlot("blue_line","line",1,"#0070FF",[]),i.chart.addPlot("blue_area","area",0,"#D9EAFF","#D9EAFF",0),i.chart.addPlot("black_line","line",1,"#000000",[]),null===(p=i.chart.findPlotById("blue_line"))||void 0===p||p.addTooltip("ttId","line_vertical_full",1,"#B2B2B2",[1,2]),null===(f=i.chart.findPlotById("red_line"))||void 0===f||f.addTooltip("ttId","line_horizontal_end",1,"#B2B2B2",[1,2]),null===(g=i.chart.findPlotById("blue_line"))||void 0===g||g.addTooltip("ttId","line_horizontal_end",1,"#B2B2B2",[1,2]),null===(x=i.chart.findPlotById("blue_line"))||void 0===x||x.addTooltip("ttId","circle_series",3,"#ffffff","#0070FF",4),null===(w=i.chart.findPlotById("red_line"))||void 0===w||w.addTooltip("ttId","circle_series",3,"#ffffff","#FF2222",4),null===(m=i.chart.findPlotById("black_line"))||void 0===m||m.addTooltip("ttId","circle_series",3,"#ffffff","black",4),null===(_=i.chart.findPlotById("blue_line"))||void 0===_||_.addTooltip("ttId","circle_y_end",3,"#ffffff","#0070FF",4),null===(T=i.chart.findPlotById("red_line"))||void 0===T||T.addTooltip("ttId","circle_y_end",3,"#ffffff","#FF2222",4),null===(k=i.chart.findPlotById("red_line"))||void 0===k||k.addTooltip("ttId","label_x_start",.5,"black","#ebebeb",4,c).label.setOptions(!0,"black","bottom",14,["12",'"Transcript Pro"']),null===(P=i.chart.findPlotById("red_line"))||void 0===P||P.addTooltip("ttId","data_y_end",.5,"#FF2222","#FF2222",4).label.setOptions(!0,"white","right",30,["12",'"Transcript Pro"']),null===(D=i.chart.findPlotById("blue_line"))||void 0===D||D.addTooltip("ttId","data_y_end",.5,"#0070FF","#0070FF",4).label.setOptions(!0,"white","right",30,["12",'"Transcript Pro"']),null===(S=i.chart.findPlotById("red_line"))||void 0===S||S.addTooltip("delta_1","delta_abs",.5,"black","#ebebeb",4).label.setOptions(!0,"black","right",35,["12",'"Transcript Pro"']),null===(C=i.chart.findPlotById("blue_line"))||void 0===C||C.addTooltip("delta_1","delta_abs",.5,"black","#ebebeb",4).label.setOptions(!0,"black","right",35,["12",'"Transcript Pro"']);var A=d(r,o,0),O=A.serie5star,B=A.area5starTop,M=A.area5starBottom,F=A.serie1star,L=A.area1starTop,I=A.area1starBottom;i.chart.addSeriesRow("cyberHedge5_area",[B,M]).setPlotsIds("blue_area"),i.chart.addSeriesRow("cyberHedge1_area",[L,I]).setPlotsIds("red_area"),i.chart.addSeriesRow("cyberHedge5_line",[O]).setPlotsIds("blue_line"),i.chart.addSeriesRow("cyberHedge1_line",[F]).setPlotsIds("red_line"),i.chart.addSeriesRow("zero_line",[h]).setPlotsIds("black_line"),i.chart.yAxis.ticks.setOptions(!1,"niceCbhStep",[1,5,10,15,20,25,30]),i.chart.yAxis.ticks.label.units="%",i.chart.xAxis.ticks.setCustomLabels(c),i.chart.xAxis.ticks.setOptions(!0,"customDateTicks",["half month","year","half year","third year","quarter year"]),i.chart.xAxis.display=!0,i.chart.xAxis.setMinMax(i.chart.data.findExtremes("val"),!0),i.chart.yAxis.setMinMax(i.chart.data.findExtremes("ind",i.chart.xAxis.min,i.chart.xAxis.max),!0),i.chart.yAxis.setMinMax([i.chart.yAxis.min-l*i.chart.yAxis.length,i.chart.yAxis.max+l*i.chart.yAxis.length],!0);var R=t("bezier-easing")(.65,0,.35,1);i.chart.xAxis.ticks.switchAnimation(!0,300),i.chart.yAxis.ticks.switchAnimation(!0,300),i.chart.switchDataAnimation(!0,300),i.chart.data.changeAllSeriesAnimationTimeFunction(R),i.chart.setCanvasPaddings(25,60,40,20)},i.prepareDataforCbh=d,document.querySelectorAll(".index .zones li").forEach(function(t){t.addEventListener("click",function(){var e=t.querySelector("a");document.querySelector(".index .zones li.selected").classList.remove("selected"),t.classList.add("selected");var i=document.querySelector(".ranges_indices li.selected");a.customLoadDataFromCsv(e.href).then(function(t){var e=a.csvToCols(t);o=e[2].slice(1).map(function(t){return+t}),r=e[1].slice(1).map(function(t){return+t}),c=e[0].slice(1).map(function(t){return new Date(t)}),h=o.map(function(){return 0}),b(c[c.length-1]);var n=c.length-1;g(r,o,0,n,!1),i.click(i)})})}),document.querySelectorAll(".ranges_indices li").forEach(function(t){t.addEventListener("click",function(){document.querySelector(".ranges_indices li.selected").classList.remove("selected"),t.classList.add("selected");var e=c[c.length-1],i=c.length-1,n=0;switch(t.innerHTML){case"6M":n=x(new Date(new Date(e.getTime()).setMonth(e.getMonth()-6)));break;case"1Y":n=x(new Date(new Date(e.getTime()).setFullYear(e.getFullYear()-1)));break;case"2Y":n=x(new Date(new Date(e.getTime()).setFullYear(e.getFullYear()-2)));break;case"YTD":n=x(new Date(new Date(e.getFullYear(),0,1).getTime()))}g(r,o,n,i,!0)})});var p=document.getElementById("cbhIdx1-val"),f=document.getElementById("cbhIdx5-val");function y(t){p&&(p.innerHTML=o[t].toFixed(1))}function v(t){f&&(f.innerHTML=r[t].toFixed(1))}function g(t,e,n,s,a){var o,r,u,p,f,y=d(t,e,n),v=y.serie5star,g=y.area5starTop,b=y.area5starBottom,x=y.serie1star,w=y.area1starTop,m=y.area1starBottom;if(null===(o=i.chart.data.findSeriesById("cyberHedge5_area"))||void 0===o||o.replaceSeriesData([g,b]),null===(r=i.chart.data.findSeriesById("cyberHedge1_area"))||void 0===r||r.replaceSeriesData([w,m]),null===(u=i.chart.data.findSeriesById("cyberHedge5_line"))||void 0===u||u.replaceSeriesData([v]),null===(p=i.chart.data.findSeriesById("cyberHedge1_line"))||void 0===p||p.replaceSeriesData([x]),null===(f=i.chart.data.findSeriesById("zero_line"))||void 0===f||f.replaceSeriesData([h]),a){i.chart.xAxis.ticks.setCustomLabels(c),i.chart.xAxis.setMinMax([n,s],!1);var _=i.chart.data.findExtremes("ind",n,s),T=Math.abs(_[0]-_[1]);i.chart.yAxis.setMinMax([_[0]-l*T,_[1]+l*T],!0)}}function b(t){var e=document.querySelector(".last-update time");e.datetime=t.toISOString(),e.innerHTML=[t.getDate(),t.toLocaleString("en-US",{month:"long"}),t.getFullYear()].join(" ")}function x(t){return c.reduce(function(e,i,n){return Math.abs(i-t)<Math.abs(c[e]-t)?n:e},0)}},{"../classes/Chart":8,"../scripts/helpers":26,"bezier-easing":1}],24:[function(t,e,i){"use strict";var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),s=0;for(e=0;e<i;e++)for(var a=arguments[e],o=0,r=a.length;o<r;o++,s++)n[s]=a[o];return n};Object.defineProperty(i,"__esModule",{value:!0}),i.reorganizeChart=i.createChart=i.prepareData=i.chart=void 0;var s=t("../classes/Chart"),a=t("../classes/Legend"),o=t("../classes/Point"),r=t("../classes/Ticks");i.prepareData=function(t){return[t[0].slice(1).map(function(t){return+t}),t[1].slice(1).map(function(t){return+t}),[1.3],[2.5],t[2].slice(1).map(function(t){return t})]},i.createChart=function(e,c){var h,l,d,u,p,f,y;i.chart=new s.Chart(e,[0,5],[0,5]),d=(h=n(c))[0],u=h[1],p=h[2],f=h[3],y=h[4],i.chart.xAxis.setOptions("end",1,"black"),i.chart.xAxis.ticks.setOptions(!1,"fixedCount",5),i.chart.xAxis.ticks.label.setOptions(!1,"#B2B2B2","bottom",11,["12",'"Transcript Pro"']),i.chart.xAxis.grid.setOptions(!0,"black",.5,[]),i.chart.xAxis.setName("Capital Managment","start").label.setOptions(!0,"black","top",-30,["18",'"Transcript Pro"']);var v=new a.Legend(["Low","Risk"],function(t){return new o.Point(t.x1-25,t.y2+25)});v.label.setOptions(!0,"black","top",0,["14",'"Transcript Pro"']),i.chart.xAxis.addLegend(v);var g=new a.Legend(["High","Risk"],function(t){return new o.Point(t.x2+25,t.y1-25)});g.label.setOptions(!0,"black","top",0,["14",'"Transcript Pro"']),i.chart.xAxis.addLegend(g);var b=new r.Ticks(i.chart.xAxis.type);b.setOptions(!1,"midStep",5),b.label.setOptions(!0,"#B2B2B2","top",17,["25",'"Transcript Pro"'],["#60bb4c","#accd5a","#eed15c","#ee9c58","#e94f49"]),b.setCustomLabels(["●"]),i.chart.xAxis.addCustomTicks(b),i.chart.yAxis.setOptions("end",1,"#B2B2B2"),i.chart.yAxis.ticks.setOptions(!1,"fixedCount",5),i.chart.yAxis.ticks.label.setOptions(!1,"#B2B2B2","right",20,["12",'"Transcript Pro"']),i.chart.yAxis.grid.setOptions(!0,"black",.5,[]),i.chart.yAxis.setName("Vulnerability","start").label.setOptions(!0,"black","right",-10,["18",'"Transcript Pro"']),i.chart.yAxis.label.rotationAngle=-90;var x=new r.Ticks(i.chart.yAxis.type);x.setOptions(!1,"midStep",5),x.label.setOptions(!0,"#B2B2B2","right",30,["25",'"Transcript Pro"'],["#60bb4c","#accd5a","#eed15c","#ee9c58","#e94f49"]),x.setCustomLabels(["●"]),i.chart.yAxis.addCustomTicks(x),i.chart.hasBorder=!0,i.chart.addPlot("uni_circles","unicode",20,"#454e56","●"),i.chart.addPlot("uni_triangle","unicode",20,"#454e56","▼"),null===(l=i.chart.findPlotById("uni_circles"))||void 0===l||l.addTooltip("ttId","data_label",.5,"black","#ebebeb",y).label.setOptions(!0,"black","top",15,["12",'"Transcript Pro"']),i.chart.addSeries("portfolio",[d,u]).setPlotsIds("uni_circles"),i.chart.addSeries("portfolio_1",[p,f]).setPlotsIds("uni_triangle");var w=t("bezier-easing")(.65,0,.35,1);i.chart.xAxis.ticks.switchAnimation(!1,300),i.chart.yAxis.ticks.switchAnimation(!1,300),i.chart.switchDataAnimation(!0,300),i.chart.data.changeAllSeriesAnimationTimeFunction(w),i.chart.addBackGround("coloredGrid_cbh"),i.chart.switchResolution(),i.chart.setCanvasPaddings(60,60,60,60)},i.reorganizeChart=function(){var t,e,n,s,a,o,r,c;s=[],a=[],c=[];for(var h="ABCDEFGHIJKLMNOPQRSTUVWXYZ".length,l=1+Math.round(16*Math.random()),d=0;d<l;d++)s.push(.1+4.8*Math.random()),a.push(.1+4.8*Math.random()),c.push("ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(Math.random()*h)));o=[.1+4.8*Math.random()],r=[.1+4.8*Math.random()],null===(t=i.chart.data.findSeriesById("portfolio"))||void 0===t||t.replaceSeriesData([s,a]),null===(e=i.chart.data.findSeriesById("portfolio_1"))||void 0===e||e.replaceSeriesData([o,r]),null===(n=i.chart.findPlotById("uni_circles"))||void 0===n||(n.findTooltipById("ttId").labels=c)}},{"../classes/Chart":8,"../classes/Legend":12,"../classes/Point":14,"../classes/Ticks":16,"bezier-easing":1}],25:[function(t,e,i){"use strict";var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),s=0;for(e=0;e<i;e++)for(var a=arguments[e],o=0,r=a.length;o<r;o++,s++)n[s]=a[o];return n},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});var a=s(t("webfontloader")),o=t("./scripts/helpers"),r=t("./configs/indices-chart-black"),c=t("./configs/indices-chart-colored"),h=t("./configs/indices-chart"),l=t("./configs/square-chart"),d=t("./configs/square-chart");a.default.load({custom:{families:["Transcript Pro"]},active:function(){o.customLoadDataFromCsv("./src/data/cbhPlotData_EU.csv").then(function(t){o.customLoadDataFromCsv("./src/data/cbhPlotData_EU_labeled.csv").then(function(e){var i=document.getElementById("indexChart_0"),n=o.csvToCols(t),s=n[1].slice(1).map(function(t){return+t}),a=n[0].slice(1).map(function(t){return new Date(t)}),c=s.map(function(){return 0}),h=o.csvToCols(e),l=h[0].slice(1).map(function(t){return+t}),d=h[1].slice(1).map(function(t){return+t}),u=h[2].slice(1).map(function(t){return t});r.createChart(i,[a,s,c,[l,d],u])})}).catch(function(t){console.log(t)}),o.customLoadDataFromCsv("./src/data/cbhPlotData_US.csv").then(function(t){var e=document.getElementById("indexChart_1"),i=o.csvToCols(t),n=i[2].slice(1).map(function(t){return+t}),s=i[1].slice(1).map(function(t){return+t}),a=i[0].slice(1).map(function(t){return new Date(t)}),r=n.map(function(){return 0});c.createChart(e,[a,s,n,r])}).catch(function(t){console.log(t)}),o.customLoadDataFromCsv("./src/data/cbhPlotData_US.csv").then(function(t){var e=document.getElementById("indexChart_2"),i=o.csvToCols(t),n=i[2].slice(1).map(function(t){return+t}),s=i[1].slice(1).map(function(t){return+t}),a=i[0].slice(1).map(function(t){return new Date(t)}),r=n.map(function(){return 0});h.createChart(e,[a,s,n,r])}).catch(function(t){console.log(t)}),o.customLoadDataFromCsv("./src/data/cbhVulnerability_test.csv").then(function(t){var e=document.getElementById("indexChart_3"),i=o.csvToCols(t);i=d.prepareData(i),l.createChart(e,n(i))}).catch(function(t){console.log(t)})}})},{"./configs/indices-chart":23,"./configs/indices-chart-black":21,"./configs/indices-chart-colored":22,"./configs/square-chart":24,"./scripts/helpers":26,webfontloader:4}],26:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.csvToCols=i.customLoadDataFromCsv=void 0,i.customLoadDataFromCsv=function(t){return fetch(t).then(function(t){var e=t.headers.get("content-type");if(e&&(e.includes("text/csv")||e.includes("application/octet-stream")))return t.ok?t.text():Promise.reject(t.status);throw new TypeError("Oops, we haven't got CSV!")})},i.csvToCols=function(t,e){e=e||",";for(var i=t.split("\n"),n=[],s=i[0].split(e).length-1;s>=0;s--)n.push([]);s=0;for(var a=i.length;s<a;s++)if(i[s].length)for(var o=i[s].split(e),r=o.length-1;r>=0;r--)n[r].push(o[r]);return n}},{}]},{},[25]);
},{}]},{},["C78o"], null)
//# sourceMappingURL=https://shishovka.github.io/dp_chart/chartBlib.2476ebea.js.map